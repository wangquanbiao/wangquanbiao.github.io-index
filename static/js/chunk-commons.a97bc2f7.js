(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-commons"],{"068a":function(t,e,i){},"10c7":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dept-tree"},[i("el-cascader",{key:t.cascaderKey,ref:"cascader",attrs:{options:t.DWList,props:{value:"id"}},on:{change:t.handleChange,focus:t.setOrgIsNull}})],1)},s=[],n=i("c7eb"),r=i("1da1"),l=i("2934"),o={props:["cascaderKey","propsId"],watch:{propsId:{handler:function(t,e){this.key=0,this.DWList=[],t&&this.getData(t)}},cascaderKey:function(t,e){this.key=t}},data:function(){return{DWList:[],orgId:"",key:0}},mounted:function(){},methods:{setOrgIsNull:function(t){this.propsId||this.$message({message:"请选择单位!",type:"warning"})},handleChange:function(t){this.orgId=t[t.length-1],this.$emit("changeFn",this.orgId)},getData:function(t){var e=this;return Object(r["a"])(Object(n["a"])().mark((function i(){var a,s;return Object(n["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,Object(l["e"])(t);case 2:a=i.sent,s=a.data,e.DWList=s;case 5:case"end":return i.stop()}}),i)})))()}}},c=o,d=i("2877"),u=Object(d["a"])(c,a,s,!1,null,null,null);e["a"]=u.exports},"124f":function(t,e,i){},2123:function(t,e,i){"use strict";i("a66b")},"2d21":function(t,e,i){"use strict";i("7afc")},"2e76":function(t,e,i){},"343c":function(t,e,i){},"36fa":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"uploadStyle"},[i("el-upload",{staticClass:"companyLogo-img",class:{uploadHide:t.atmParams&&t.atmParams.atmLimit&&(t.atmParams.atmLimit==t.fileList.length||t.atmLimit==t.fileList.length),new_style:t.atmParams.newStyle},attrs:{action:t.actionUrl,headers:t.headersToken,name:"file",enctype:"multipart/form-data","list-type":t.listType,disabled:t.isEdit,"file-list":t.fileList,limit:t.atmParams.atmLimit||t.atmLimit,data:t.atmData,accept:t.atmAccepts,"before-upload":t.beforeUpload,"on-preview":t.imagePreview,"on-remove":t.removeImage,"on-success":t.isSuccess,"on-exceed":t.handleExceed}},["picture-card"!==t.listType||t.atmParams.newStyle?t._e():i("i",{staticClass:"el-icon-plus"}),t.atmParams.newStyle?i("svg",{staticClass:"icon",attrs:{t:"1710902093709",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3780",width:"25",height:"25"}},[i("path",{attrs:{d:"M672 576a160 160 0 1 1-320 0 160 160 0 0 1 320 0z m-64 0a96 96 0 1 0-192 0 96 96 0 0 0 192 0z",fill:"#2F7EF5","p-id":"3781"}}),i("path",{attrs:{d:"M663.04 192h-302.08l-32 96H128v576h768V288h-200.96l-32-96z m-288 160l32-96h209.92l32 96H832v448H192V352h183.04z",fill:"#2F7EF5","p-id":"3782"}})]):t._e(),i("div",{staticClass:"content_text"},[t._v(" "+t._s(t.atmParams.beforeContent||"上传照片"))]),t.atmParams.describe?i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(t._s(t.atmParams.describe))]):t._e()]),i("el-dialog",{attrs:{visible:t.imgDialogVisible,size:"full",modal:!1,title:"查看大图片"},on:{"update:visible":function(e){t.imgDialogVisible=e}}},[i("img",{attrs:{width:"100%",src:t.assemblePreviewImageUrl,alt:""}})])],1)},s=[],n=i("5530"),r=(i("a9e3"),i("5f87")),l={name:"upload",data:function(){return{isEdit:!1,isuploadHide:!1,imgDialogVisible:!1,actionUrl:"/prod-api/roadProducts/attach/upload/",headersToken:{Authorization:"Bearer "+Object(r["a"])()},assemblePreviewImageUrl:"",atmData:{type:this.objParams.type||""},atmParams:this.objParams,atmLimit:999,atmAccepts:"",describe:"",fileList:[],listType:"picture-card",imgList:[]}},props:{objParams:{type:Object,default:function(){return{describe:null}}},filesList:{type:Array},isChange:{type:Boolean,default:!1},different:{type:[Number,String]},Index:{type:Number},subscript:{type:Number,default:0}},watch:{objParams:function(t,e){this.atmParams=t,this.atmLimit=t.atmLimit},filesList:{handler:function(t,e){this.fileList=t},deep:!0,immediate:!0}},mounted:function(){},methods:{handleExceed:function(t,e){this.$message.warning("当前限制选择 ".concat(this.atmParams.atmLimit||this.atmLimit," 个文件，,请删除后操作!"))},beforeUpload:function(t){},removeImage:function(t,e){this.isChange?this.$emit("returnResDel",Object(n["a"])(Object(n["a"])({},t),{},{different:this.different,subscript:this.subscript,Index:this.Index})):this.$emit("returnResDel",t.response.data)},isSuccess:function(t){this.isChange?this.$emit("returnRes",Object(n["a"])(Object(n["a"])({},t.data),{},{different:this.different,subscript:this.subscript,Index:this.Index})):this.$emit("returnRes",t.data)},imagePreview:function(t,e){t.url?this.assemblePreviewImageUrl=t.url:this.assemblePreviewImageUrl="",this.imgDialogVisible=!0},renderFileList:function(){}}},o=l,c=(i("e77c"),i("9f9f"),i("6bb0"),i("2877")),d=Object(c["a"])(o,a,s,!1,null,"0bf2f1b0",null);e["a"]=d.exports},"39dc":function(t,e,i){"use strict";i("5318")},"39f3":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"l_header"},[t._v(" "+t._s(t.title)+" "),t._t("default")],2)},s=[],n={props:{title:{type:String,default:""}}},r=n,l=(i("39dc"),i("2877")),o=Object(l["a"])(r,a,s,!1,null,"5ecd8cb4",null);e["a"]=o.exports},"3c22":function(t,e,i){"use strict";i("124f")},"43df":function(t,e,i){},4826:function(t,e,i){},"4a77":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.loading?i("div",{staticClass:"uploadStyle"},[i("el-upload",{ref:t.objKey||"",staticClass:"upload-demo",class:{new_style_class:t.atmParams.newStyleClass},attrs:{"show-file-list":!t.atmParams||!t.atmParams.hideList,action:t.actionUrl,headers:t.headersToken,name:"file",multiple:"",enctype:"multipart/form-data",disabled:t.isEdit,"file-list":t.fileList,limit:t.atmLimit,data:t.atmData,accept:t.atmAccepts,"before-upload":t.beforeUpload,"on-preview":t.imagePreview,"on-remove":t.removeImage,"on-success":t.isSuccess,"on-exceed":t.handleExceed}},[t.atmParams&&t.atmParams.replaceBtn?t._t("default"):i("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],2),i("el-dialog",{attrs:{width:"30%",title:"设置",center:"",modal:!1,"close-on-click-modal":!1,"close-on-press-escape":!1,visible:t.isShowBtn,"append-to-body":""},on:{"update:visible":function(e){t.isShowBtn=e}}},[i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.isShowBtn=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.download}},[t._v("下载")])],1)])],1):t._e()},s=[],n=(i("4de4"),i("b0c0"),i("a9e3"),i("d3b7"),i("5f87")),r=i("313e"),l={name:"upload",data:function(){return{isEdit:!1,isShowBtn:!1,actionUrl:"/prod-api/roadProducts/attach/upload/",headersToken:{Authorization:"Bearer "+Object(n["a"])()},atmData:{rId:this.objParams&&this.objParams.rId},atmParams:{},atmLimit:2,atmAccepts:"",objKey:"",fileList:[],imgList:[],selectId:"",loading:!1,companyId1:null}},props:{objParams:{type:Object},filesList:{type:Array},keyId:{type:String},companyId:{type:Number},ParamsAtmLimit:{type:r["number"]}},watch:{companyId:{handler:function(t,e){this.companyId1=t}},objParams:{handler:function(t,e){t&&(this.atmParams=t)},deep:!0,immediate:!0},filesList:{handler:function(t,e){this.fileList=t},deep:!0,immediate:!0},keyId:{handler:function(t,e){this.objKey=t},immediate:!0},ParamsAtmLimit:{handler:function(t,e){this.atmLimit=t},immediate:!0}},mounted:function(){var t=this;this.renderFileList(),this.$nextTick((function(){t.loading=!0}))},methods:{download:function(){var t=this,e=this.fileList.filter((function(e){return e.id==t.selectId}))[0];this.downloadGet("/roadProducts/attach/download/".concat(e.response.data.id),e.response.data.fileName),this.isShowBtn=!1},handleExceed:function(t,e){this.$message.warning("当前限制上传 ".concat(this.atmLimit," 个文件，请删除后在上传！"))},beforeUpload:function(t){},removeImage:function(t,e){this.objKey?this.$emit("returnResDel",t,this.objKey):this.$emit("returnResDel",t)},isSuccess:function(t){this.objKey?this.$emit("returnRes",t.data,this.objKey):this.$emit("returnRes",t.data)},imagePreview:function(t,e){this.downloadGet("/roadProducts/attach/download/".concat(t.id||t.attachId||t.response.data.id),t.fileName||t.name)},renderFileList:function(){}}},o=l,c=(i("64c1"),i("b889"),i("2877")),d=Object(c["a"])(o,a,s,!1,null,"22fe2d8f",null);e["default"]=d.exports},5318:function(t,e,i){},"5c91":function(t,e,i){"use strict";i("7200")},"5e07":function(t,e,i){},"602f":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home-card"},[a("div",{staticClass:"title"},[t._v(" "+t._s(t.title)+" ")]),a("div",{staticClass:"content"},[a("div",{staticClass:"left-img"},[a("img",{attrs:{width:"100%",height:"100%",src:i("88fc")("./homeCard"+t.imgIndex+".png"),alt:""}}),a("div",{staticClass:"text"},[a("span",[t._v(t._s(1*t.leftNum>0?1*t.leftNum:0))]),a("span",{style:{marginTop:3==t.imgIndex?"15px":""}},[t._v(t._s(t.itemTitle?t.itemTitle[0]:"次"))])])]),a("div",{staticClass:"right-items"},[a("div",{staticClass:"item"},[a("div",{staticClass:"right-img-div",style:{background:"linear-gradient(0deg,"+t.iconBgColor[0]+" , "+t.iconBgColor[1]+" )"}},[a("img",{attrs:{width:"100%",height:"100%",src:i("5e3c"),alt:""}})]),a("div",{staticClass:"text-item"},[a("span",[a("b",{staticStyle:{color:"#007AEB","font-size":"20px"}},[t._v(t._s(t._f("formatNum")(t.rightTopNum))+" ")]),t._v(" "+t._s(t.type&&1==t.type?"涉路施工赔补偿总金额"==t.itemTitle[1]?"万元":"元":"km"))]),a("span",[t._v(t._s(t.itemTitle?t.itemTitle[1]:"作业总里程")+" ")])])]),a("div",{staticClass:"item"},[a("div",{staticClass:"right-img-div",style:{background:"linear-gradient(0deg,"+t.iconBgColor[2]+" , "+t.iconBgColor[3]+" )"}},[a("img",{attrs:{width:"100%",height:"100%",src:i("7e2a"),alt:""}})]),a("div",{staticClass:"text-item"},[a("span",[t.rightBottomNum?a("b",{staticStyle:{color:"#FA766B","font-size":"20px"}},[t.itemTitle&&t.itemTitle.length>2&&"%"==t.itemTitle[3]?a("span",[t.rightBottomNum>0?a("i",{staticClass:"el-icon-caret-top",staticStyle:{color:"#FA766B"}}):t._e(),t.rightBottomNum<0?a("i",{staticClass:"el-icon-caret-bottom",staticStyle:{color:"#FA766B"}}):t._e()]):t._e(),t._v(" "+t._s(t._f("formatNum")(t.rightBottomNum>=0?t.rightBottomNum:t.rightBottomNum.slice(1)))+" ")]):t._e(),t._v(" "+t._s(t.itemTitle&&t.itemTitle[3]||"元"))]),a("span",[t._v(t._s(t.itemTitle?t.itemTitle[2]:"收入总金额")+" ")])])])])])])},s=[],n={props:["itemTitle","title","leftNum","rightTopNum","rightBottomNum","imgIndex","iconBgColor","type"]},r=n,l=(i("d1d6"),i("2877")),o=Object(l["a"])(r,a,s,!1,null,"2d63d08a",null);e["a"]=o.exports},6169:function(t,e,i){"use strict";i("068a")},"64c1":function(t,e,i){"use strict";i("fbd0")},"68be":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.title)+" ")]),t._t("default")],2)},s=[],n={props:["title"]},r=n,l=(i("81bf"),i("2877")),o=Object(l["a"])(r,a,s,!1,null,"c0f05164",null);e["a"]=o.exports},"6bb0":function(t,e,i){"use strict";i("e503f")},"6e82":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"l_header"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.title)+" "),t._t("default")],2)])},s=[],n={props:{title:{type:String,default:""}}},r=n,l=(i("7035"),i("2877")),o=Object(l["a"])(r,a,s,!1,null,"4078c478",null);e["a"]=o.exports},7035:function(t,e,i){"use strict";i("d815")},7200:function(t,e,i){},"7afc":function(t,e,i){},"81bf":function(t,e,i){"use strict";i("2e76")},"86ee":function(t,e,i){"use strict";i("343c")},"8a77":function(t,e,i){},"98ca":function(t,e,i){},"9f9f":function(t,e,i){"use strict";i("fd94")},a66b:function(t,e,i){},b27f:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("bm-overlay",{ref:"customOverlay",class:{sample:!0},attrs:{pane:"labelPane"},on:{draw:t.draw}},[i("div",{staticClass:"overlay_xx"},[i("div",{staticStyle:{"text-align":"left",padding:"0 12px",height:"24px","line-height":"24px",background:"#FF6000",color:"#fff"}},[t._v("中队")]),i("div",{staticStyle:{padding:"0 12px","text-align":"left","margin-top":"4px"}},[i("i",{staticClass:"el-icon-caret-right"}),t._v("任务类型：路网巡查")]),i("div",{staticStyle:{padding:"0 12px","text-align":"left"}},[i("i",{staticClass:"el-icon-caret-right"}),t._v("时间：2023-06-30 11:12:30")]),i("div",{staticStyle:{padding:"0 12px","text-align":"left"}},[i("i",{staticClass:"el-icon-caret-right"}),t._v("速度：57km/h")]),i("div",{staticStyle:{padding:"0 12px","text-align":"left"}},[i("i",{staticClass:"el-icon-caret-right"}),t._v("实时里程：57km")]),i("div",{staticStyle:{padding:"0 12px","text-align":"left"}},[i("i",{staticClass:"el-icon-caret-right"}),t._v("位置：")]),i("div",{staticStyle:{padding:"0 12px","text-align":"left"}},[i("i",{staticClass:"el-icon-caret-right"}),t._v("流程节点：巡查中")]),i("div",{staticStyle:{padding:"0 12px","text-align":"left"}},[i("i",{staticClass:"el-icon-caret-right"}),t._v("巡查人员：何必问，张大军")]),i("div",{staticStyle:{padding:"0 12px 4px","text-align":"left"}},[i("i",{staticClass:"el-icon-caret-right",on:{click:t.handleItem}}),t._v("巡查开始时间：2023-06-30 11:12:30")])])])},s=[],n=(i("d81d"),{props:["position"],watch:{position:{handler:function(){this.$refs.customOverlay.reload()},deep:!0}},methods:{draw:function(t){var e=t.el,i=t.BMap,a=t.map,s=this.position,n=s.lng,r=s.lat,l=a.pointToOverlayPixel(new i.Point(n,r));e.style.left=l.x-60+"px",e.style.top=l.y-20+"px"},handleItem:function(){}}}),r=n,l=(i("2d21"),i("2877")),o=Object(l["a"])(r,a,s,!1,null,"e8607ec0",null);e["a"]=o.exports},b889:function(t,e,i){"use strict";i("4826")},c49c:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"uploadStyle new_upload"},[i("el-upload",{staticClass:"companyLogo-img",class:{uploadHide:t.isuploadHide,new_style:t.atmParams.newStyle},attrs:{action:t.actionUrl,headers:t.headersToken,name:"files",enctype:"multipart/form-data","list-type":t.listType,disabled:t.isEdit,"file-list":t.fileList,limit:t.atmLimit,data:t.atmData,accept:t.atmAccepts,"before-upload":t.beforeUpload,"before-remove":t.removeFn,"on-preview":t.imagePreview,"on-remove":t.removeImage,"on-success":t.isSuccess,"on-exceed":t.handleExceed},scopedSlots:t._u([2==t.objParams.type?{key:"file",fn:function(e){var a=e.file;return[i("div",{staticClass:"video_item"},[i("video",{staticStyle:{width:"100%",height:"100%"},attrs:{src:a.url,controls:""}},[i("source",{attrs:{src:a.url,type:"video/mp4"}}),i("source",{attrs:{src:a.url,type:"video/mov"}}),i("source",{attrs:{src:a.url,type:"video/avi"}})]),i("div",{staticClass:"del_btn",on:{click:function(e){return t.removeFile(a)}}},[t._v(" x ")])])]}}:null],null,!0)},["picture-card"!==t.listType||t.atmParams.newStyle?t._e():i("i",{staticClass:"el-icon-plus"}),t.atmParams.newStyle&&1==t.objParams.type?i("svg",{staticClass:"icon",attrs:{t:"1710902093709",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3780",width:"25",height:"25"}},[i("path",{attrs:{d:"M672 576a160 160 0 1 1-320 0 160 160 0 0 1 320 0z m-64 0a96 96 0 1 0-192 0 96 96 0 0 0 192 0z",fill:"#2F7EF5","p-id":"3781"}}),i("path",{attrs:{d:"M663.04 192h-302.08l-32 96H128v576h768V288h-200.96l-32-96z m-288 160l32-96h209.92l32 96H832v448H192V352h183.04z",fill:"#2F7EF5","p-id":"3782"}})]):t._e(),t.atmParams.newStyle&&2==t.objParams.type?i("svg",{staticClass:"icon",attrs:{t:"1711093696860",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5553",width:"25",height:"25"}},[i("path",{attrs:{d:"M849.5 962l-675 0c-66.284 0-112.5-46.216-112.5-112.5l0-675c0-66.284 46.216-112.5 112.5-112.5l675 0c66.284 0 112.5 46.216 112.5 112.5l0 675c0 66.284-46.216 112.5-112.5 112.5zM99.5 212l0 75 150 0-72.858-182.135c-46.619 13.532-77.142 53.522-77.142 107.135zM249.5 99.5l75.001 187.5 112.481 0-74.982-187.5-112.5 0zM436.982 99.5l75.018 187.5 112.5 0-75-187.5-112.519 0zM624.5 99.5l75 187.5 112.5 0-75-187.5-112.5 0zM924.5 212c0-66.284-46.216-112.5-112.5-112.5l75.001 187.5 37.499 0 0-75zM924.5 324.5l-824.999 0 0 487.5c0 66.284 46.216 112.5 112.5 112.5l600 0c66.284 0 112.5-46.216 112.5-112.5l0-487.5zM362 437l337.5 187.5-337.5 187.5 0-374.999z",fill:"#2F7EF5","p-id":"5554"}})]):t._e(),i("div",{staticClass:"content_text"},[t._v(" "+t._s(t.atmParams.beforeContent||""))]),t.atmParams.describe?i("div",{staticClass:"el-upload__tip",style:{color:t.atmParams.describeColor},attrs:{slot:"tip"},slot:"tip"},[t._v(t._s(t.atmParams.describe))]):t._e()]),i("el-dialog",{attrs:{visible:t.imgDialogVisible,size:"full",modal:!1,title:"查看大图片"},on:{"update:visible":function(e){t.imgDialogVisible=e}}},[i("img",{attrs:{width:"100%",src:t.assemblePreviewImageUrl,alt:""}})])],1)},s=[],n=i("ade3"),r=i("5530"),l=(i("4de4"),i("e9c4"),i("a9e3"),i("d3b7"),i("5f87")),o=i("a700"),c=Object(n["a"])(Object(n["a"])(Object(n["a"])({name:"upload",computed:{uploadData:function(){return{body:JSON.stringify({type:this.objParams.type,rId:this.objParams.rId})}}},data:function(){return{isEdit:!1,isuploadHide:!1,imgDialogVisible:!1,actionUrl:"/prod-api/roadProducts/standardization/upload",headersToken:{Authorization:"Bearer "+Object(l["a"])()},assemblePreviewImageUrl:"",atmData:{type:this.objParams.type,rId:this.objParams.rId},atmParams:this.objParams,atmLimit:999,describe:"",fileList:[],listType:"picture-card",imgList:[]}},props:{objParams:{type:Object,default:function(){return{describe:null}}},filesList:{type:Array},isChange:{type:Boolean,default:!1},different:{type:Number},Index:{type:Number},subscript:{type:Number,default:0}},watch:{objParams:function(t,e){this.atmParams=t,this.atmLimit=t.atmLimit},filesList:{handler:function(t,e){this.fileList=t},deep:!0,immediate:!0}}},"computed",{atmAccepts:function(){return this.atmData&&this.atmData.type?1==this.atmData.type?"image/*":2==this.atmData.type?"video/*":void 0:""}}),"mounted",(function(){this.renderFileList()})),"methods",{removeFn:function(t){this.removeFile(t)},handleExceed:function(t,e){this.$message.warning("当前限制选择 ".concat(this.atmLimit," 个文件，,请删除后操作!"))},beforeUpload:function(t){},removeImage:function(t,e){this.fileList=e,this.isChange?this.$emit("returnResDel",Object(r["a"])(Object(r["a"])({},t),{},{different:this.different,subscript:this.subscript,Index:this.Index})):this.$emit("returnResDel",t)},isSuccess:function(t){t.data=t.data[0],this.isChange?this.$emit("returnRes",Object(r["a"])(Object(r["a"])({},t.data),{},{different:this.different,subscript:this.subscript,Index:this.Index})):this.$emit("returnRes",Object(r["a"])(Object(r["a"])({},t.data),{},{type:this.objParams.type,url:t.data.fileUrl}))},imagePreview:function(t,e){t.url?this.assemblePreviewImageUrl=t.url:this.assemblePreviewImageUrl="",this.imgDialogVisible=!0},renderFileList:function(){},removeFile:function(t){var e=this;t.response&&(t=Object(r["a"])(Object(r["a"])({},t),t.response.data)),Object(o["r"])(t.id).then((function(i){200==i.code&&(e.fileList=e.fileList.filter((function(e){return e.id!=t.id})),e.removeImage(t,e.fileList))}))}}),d=c,u=(i("3c22"),i("c807"),i("86ee"),i("2877")),m=Object(u["a"])(d,a,s,!1,null,"d6736d22",null);e["a"]=m.exports},c685:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"b_table"},[i("div",{staticClass:"t_item header"},t._l(t.tableHeader,(function(e,a){return i("div",{key:a,staticClass:"item"},[t._v(t._s(e))])})),0),t._l(t.tableData,(function(e,a){return i("div",{key:a,staticClass:"t_item"},[i("div",{staticClass:"item"},[i("div",{class:["number_s",a+1==1?"one":a+1==2?"two":a+1==3?"three":""],attrs:{id:"home_num_font"}},[t._v(" "+t._s(a+1>=10?a+1:"0"+(a+1))+" ")])]),i("div",{staticClass:"item"},[t._v(t._s(e.name))]),i("div",{staticClass:"item"},[i("span",{staticClass:"item_num",attrs:{id:"home_num_font"}},[t._v(t._s(t._f("formatNum")(e.value)))])])])}))],2)},s=[],n={props:{tableHeader:{type:Array,default:function(){return[]}},tableData:{type:Array,default:function(){return[]}}}},r=n,l=(i("5c91"),i("2877")),o=Object(l["a"])(r,a,s,!1,null,"d28b1094",null);e["a"]=o.exports},c807:function(t,e,i){"use strict";i("43df")},d1d6:function(t,e,i){"use strict";i("e70a")},d613:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"b_table"},[i("div",{staticClass:"t_item header"},t._l(t.tableHeader,(function(e,a){return i("div",{key:a,staticClass:"item"},[t._v(t._s(e))])})),0),t._l(t.tableData,(function(e,a){return i("div",{key:a,staticClass:"t_item"},[i("div",{staticClass:"item"},[i("div",{class:["number_s",["one","two","three"][a]]},[t._v(" "+t._s(a+1)+" ")])]),i("div",{staticClass:"item",on:{click:function(i){return t.enterCompanyList(e.name)}}},[t._v(t._s(e.name))]),i("div",{staticClass:"item"},[t._v(t._s(t._f("formatNum")(e.value)))])])}))],2)},s=[],n={props:{tableHeader:{type:Array,default:function(){return[]}},tableData:{type:Array,default:function(){return[]}}},methods:{enterCompanyList:function(t){this.$emit("enterList",t)}}},r=n,l=(i("2123"),i("2877")),o=Object(l["a"])(r,a,s,!1,null,"c6418e64",null);e["a"]=o.exports},d815:function(t,e,i){},e503f:function(t,e,i){},e70a:function(t,e,i){},e77c:function(t,e,i){"use strict";i("8a77")},ebc2:function(t,e,i){"use strict";i("5e07")},f60e:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"params-card"},[i("el-form",{staticStyle:{display:"flex","align-items":"center"},attrs:{inline:!0,model:t.formInline}},[i("el-row",[i("el-col",{attrs:{span:11}},[i("el-form-item",{attrs:{label:"统计时间"}},[i("el-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[i("el-radio",{attrs:{label:"MONTH"}},[t._v("本月")]),i("el-radio",{attrs:{label:"YEAR"}},[t._v("本年")]),i("el-radio",{attrs:{label:"CUSTOM"}},[t._v("自定义")])],1)],1)],1),i("el-col",{attrs:{span:11}},[i("el-form-item",[i("el-date-picker",{staticStyle:{width:"150px","margin-right":"8px"},attrs:{disabled:"CUSTOM"!=t.radio,type:"date",placeholder:"开始日期"},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}}),i("el-date-picker",{staticStyle:{width:"150px","margin-right":"8px"},attrs:{disabled:"CUSTOM"!=t.radio,type:"date",placeholder:"结束日期"},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1)],1),i("el-col",{attrs:{span:2}},[i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.queryFn}},[t._v("查询")])],1)],1)],1)],1)],1)},s=[],n=i("c1df"),r=i.n(n),l={data:function(){return{formInline:{year:r()(new Date).format("YYYY"),month:r()(new Date).format("MM"),date:""},startTime:"",endTime:"",radio:"MONTH"}},props:["Datetimerange"],methods:{queryFn:function(){if("CUSTOM"==this.radio){if(!this.startTime)return void this.$message.warning("请选择开始时间");if(!this.endTime)return void this.$message.warning("请选择结束时间");this.formInline.date=[this.startTime,this.endTime]}else this.startTime="",this.endTime="";"CUSTOM"!=this.radio||this.Datetimerange?"CUSTOM"==this.radio&&this.Datetimerange?this.formInline.date&&this.formInline.date.length>0?this.$emit("parentQueryFn",{timeType:"CUSTOM",startTime:this.formInline.date[0]?r()(this.formInline.date[0]).format("YYYY-MM-DD HH:mm:ss"):"",endTime:this.formInline.date[1]?r()(this.formInline.date[1]).format("YYYY-MM-DD HH:mm:ss"):""}):this.$emit("parentQueryFn",{timeType:"CUSTOM"}):this.$emit("parentQueryFn",{timeType:this.radio}):this.formInline.date&&this.formInline.date.length>0?this.$emit("parentQueryFn",{timeType:"CUSTOM",startTime:this.formInline.date[0]?r()(this.formInline.date[0]).format("YYYY-MM-DD"):"",endTime:this.formInline.date[1]?r()(this.formInline.date[1]).format("YYYY-MM-DD"):""}):this.$emit("parentQueryFn",{timeType:"CUSTOM"})}}},o=l,c=(i("f95d"),i("2877")),d=Object(c["a"])(o,a,s,!1,null,"098c95da",null);e["a"]=d.exports},f95d:function(t,e,i){"use strict";i("98ca")},fbd0:function(t,e,i){},fccf:function(t,e,i){"use strict";i.r(e);var a,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("el-dialog",{staticClass:"xVideoDia",attrs:{"show-close":!1,visible:t.isShow,isShow:t.show,top:"10vh","append-to-body":"","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.isShow=e},close:t.setCloseDialog}},[a("div",{staticClass:"header-title",attrs:{slot:"title"},slot:"title"},[a("span",{staticClass:"title-text"},[t._v("视频预览 ")]),a("span",{staticClass:"title-close",on:{click:t.setCloseDialog}},[t._v("x")])]),a("div",{staticClass:"title_info"},[a("div",{staticClass:"left"},[a("span",{staticStyle:{"margin-right":"5px"}},[t._v(" ["+t._s(t.rowMap.title)+"] "+t._s(t.rowMap.vehcli)+" ")]),a("el-select",{ref:"searchSelect",attrs:{"popper-class":"type_popper","filter-method":t.handleInput,placeholder:"请选择维护类型",filterable:"",clearable:""},model:{value:t.maintenanceType,callback:function(e){t.maintenanceType=e},expression:"maintenanceType"}},t._l(t.dict.type.vehicle_clean,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.label}})})),1),a("img",{staticStyle:{width:"8",height:"8","margin-left":"10px",cursor:"pointer"},attrs:{src:i("9ad5"),alt:""},on:{click:t.sendVehicleMaintenanceRemind}})],1),a("div",{staticClass:"right"},[t._v(" "+t._s(t.rowMap.typeName)+" ")])]),3!=t.videoMap.type?a("div",{staticClass:"playWnd",staticStyle:{position:"absolute","z-index":"998"},attrs:{id:"playWnd"}}):a("div",{staticClass:"playWnd"},[a("FlvVideoPlayer",{ref:"VideoPlayerPY",attrs:{plate:t.rowMap.vehcli}})],1)])],1)},n=[],r=i("c7eb"),l=i("1da1"),o=(i("e9c4"),i("a9e3"),i("d3b7"),i("ac1f"),i("3ca3"),i("5319"),i("ddb0"),i("8fcd")),c=i("3191"),d=0,u="",m=900,f=600,p=function(){return Promise.all([i.e("chunk-2d237954"),i.e("chunk-7b4093f3")]).then(i.bind(null,"8314"))},h={dicts:["vehicle_clean"],props:{show:{type:Boolean,default:!1},videoMap:{type:Object,default:function(){return{}}},type:{type:Number,default:0},width:{type:Number,default:900},height:{type:Number,default:600}},directive:{isLength:{bind:function(t,e,i){var a=t.getElementsByTagName("input")[0];a&&a.setAttribute("maxlength",e.value)}}},watch:{show:function(t){this.isShow=t,t||(a.JS_HideWnd(),a=void 0)},videoMap:{handler:function(t,e){this.rowMap=t},immediate:!0}},components:{FlvVideoPlayer:p},data:function(){return{maintenanceType:void 0,isShowLoading:!1,isShow:this.show,rowMap:this.videoMap,indexCodeList:[],timer:null}},created:function(){},mounted:function(){this.$nextTick((function(){m=this.width,f=this.height;var t=this;t.getData(),this.timer=setTimeout((function(){$(window).resize((function(){null!=a&&(a.JS_Resize(m,f),t.setWndCover())})),$(window).scroll((function(){null!=a&&(a.JS_Resize(m,f),t.setWndCover())}))}),80)}))},methods:{handleInput:function(t){this.maintenanceType=t.length>20?t.substr(0,20):t,this.$refs.searchSelect.$data.selectedLabel=this.maintenanceType},sendVehicleMaintenanceRemind:function(){var t=this,e=this.$store.getters.userInfo;if(this.maintenanceType){var i={licensePlate:this.rowMap.vehcli,id:this.rowMap.id,vehicleType:1==this.rowMap.type?"XC":"QZ",userIds:String(e.userId),userNames:String(e.userName),project:this.maintenanceType};Object(c["p"])(i).then((function(e){200==e.code&&(t.$message.success("发送成功"),t.maintenanceType="")}))}else this.$message.warning("请选择维护类型")},getData:function(){var t=this;return Object(l["a"])(Object(r["a"])().mark((function e(){var i,a,s,n;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={patrolNub:null===(i=t.rowMap)||void 0===i?void 0:i.vehcli,pageNo:"1",pageSize:"99"},e.next=3,Object(o["o"])(s);case 3:n=e.sent,t.indexCodeList=null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.list,t.initPlugin((function(){return t.setOpenVideo(t.indexCodeList)}));case 6:case"end":return e.stop()}}),e)})))()},setOpenVideo:function(t){var e=null===t||void 0===t?void 0:t[0].indexCode,i=0,s=0,n=1,r=1,l=0,o=-1;a.JS_RequestInterface({funcName:"startPreview",argument:JSON.stringify({cameraIndexCode:e,streamMode:i,transMode:n,gpuMode:l,wndId:o,ezvizDirect:s,cascade:r})})},setOpenVideo2:function(t){var e,i,s,n=null===t||void 0===t?void 0:t[0].indexCode,r=0,l=1,o=0,c=0,d=-1,u=null===(e=this.rowMap)||void 0===e?void 0:e.startTimeStamp,m=null===(i=this.rowMap)||void 0===i?void 0:i.endTimeStamp,f=null===(s=this.rowMap)||void 0===s?void 0:s.playTimeStamp,p=1;a.JS_RequestInterface({funcName:"startPreview",argument:JSON.stringify({cameraIndexCode:n,transMode:l,gpuMode:c,wndId:d,ezvizDirect:r,cascade:o,startTimeStamp:u,endTimeStamp:m,playTimeStamp:f,recordLocation:p})})},setWndCover:function(){var t,e=$(window).width(),i=$(window).height(),s=null===(t=$("#playWnd"))||void 0===t||null===(t=t.get(0))||void 0===t?void 0:t.getBoundingClientRect(),n=s.left<0?Math.abs(s.left):0,r=s.top<0?Math.abs(s.top):0,l=s.right-e>0?Math.round(s.right-e):0,o=s.bottom-i>0?Math.round(s.bottom-i):0;n=n>m?m:n,r=r>f?f:r,l=l>m?m:l,o=o>f?f:o,a.JS_RepairPartWindow(0,0,m+1,f),0!=n&&a.JS_CuttingPartWindow(0,0,n,f),0!=r&&a.JS_CuttingPartWindow(0,0,m+1,r),0!=l&&a.JS_CuttingPartWindow(m-l,0,l,f),0!=o&&a.JS_CuttingPartWindow(0,f-o,m,o)},setVideoOpen:function(){var t="",e=0,i=1,s=0,n=-1;t=t.replace(/(^\s*)/g,""),t=t.replace(/(\s*$)/g,""),a.JS_RequestInterface({funcName:"startPreview",argument:JSON.stringify({cameraIndexCode:t,streamMode:e,transMode:i,gpuMode:s,wndId:n})})},initPlugin:function(t){var e=this;a=new WebControl({szPluginContainer:"playWnd",iServicePortStart:15900,iServicePortEnd:15900,szClassId:"23BF3B0A-2C56-4D97-9C03-0CB103AA8F11",cbConnectSuccess:function(){a.JS_StartService("window",{dllPath:"./VideoPluginConnect.dll"}).then((function(){a.JS_SetWindowControlCallback({cbIntegrationCallBack:e.cbIntegrationCallBack}),a.JS_CreateWnd("playWnd",m,f).then((function(){e.init(t)}))}),(function(){}))},cbConnectError:function(){a=null,$("#playWnd").html("插件未启动，正在尝试启动，请稍候..."),WebControl.JS_WakeUp("VideoWebPlugin://"),d++,d<3?setTimeout((function(){e.initPlugin()}),3e3):$("#playWnd").html("插件启动失败，请检查插件是否安装！")},cbConnectClose:function(t){a=null,$("#playWnd").html("插件未启动，正在尝试启动，请稍候..."),WebControl.JS_WakeUp("VideoWebPlugin://"),d++,d<3?setTimeout((function(){e.initPlugin()}),3e3):$("#playWnd").html("插件启动失败，请检查插件是否安装！")}})},cbIntegrationCallBack:function(t){},init:function(t){var e=this;this.getPubKey((function(){a.JS_RequestInterface({argument:{appkey:"23178514",ip:"59.49.106.171",port:50443,secret:"QFnaLQaWelnfC52E3LA1",enableHTTPS:1,language:"zh_CN",layout:"1x1",playMode:e.type,reconnectDuration:5,reconnectTimes:5,showSmart:0,showToolbar:1,toolBarButtonIDs:"2048,2049,2050,2304,2306,2305,2307,2308,2309,4096,4608,4097,4099,4098,4609,4100",snapDir:"D:/snap",videoDir:"D:/video"},funcName:"init"}).then((function(e){a.JS_Resize(m,f),t&&t()}))}))},getPubKey:function(t){a.JS_RequestInterface({funcName:"getRSAPubKey",argument:JSON.stringify({keyLength:1024})}).then((function(e){e.responseMsg.data&&(u=e.responseMsg.data,t())}))},setEncrypt:function(t){var e=new JSEncrypt;return e.setPublicKey(u),e.encrypt(t)},setCloseDialog:function(){this.$emit("update:show",!1),a.JS_RequestInterface({funcName:"stopAllPreview"}),a&&(a.JS_HideWnd(),a.JS_Disconnect().then((function(){}),(function(){}))),a=null}},beforeDestroy:function(){a&&(a.JS_HideWnd(),a.JS_Disconnect().then((function(){}),(function(){})),a=null)}},v=h,g=(i("ebc2"),i("6169"),i("2877")),b=Object(g["a"])(v,s,n,!1,null,"1f0b78d0",null);e["default"]=b.exports},fd94:function(t,e,i){}}]);