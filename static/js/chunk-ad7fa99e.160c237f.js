(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ad7fa99e","chunk-70f1bb6a"],{"103a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAZCAYAAAAWuY87AAAAAXNSR0IArs4c6QAAAQhJREFUKFNVUE0rhGEUPef9Eb4NZjQ+/9gsrFgrjcUsLJSFxTQpCwsLZaEUC2VhoZTEapAxyjuIEBH36D7PW2Z2957OPR+XXfP1WSjZb5XzpwDA7oUr8wGyWorbEnsWryMAEcQceys3FhZQhC7Zt9TIGJHH/uWmQc7wDeLASlMgFUBSHFy9E5AIsKiTq96bnO1HAphbS9s0KA6tp45HX/cf3njsZIxsPhmE4AAZmd96zrr4lcDC9ss/4EKFndcAEHJXcHT3zRNl9UQW994lF3RTZxQPPto0KI4dfhpi1xh9/OirkzFx/B2Tuo5rTJ78xJPwJNU5dfZrCgFCuxlOX8ifDJlq5w9J6Q8Tro+buJTDewAAAABJRU5ErkJggg=="},"7d83":function(e,t,a){"use strict";a("8cd5")},"8cd5":function(e,t,a){},a370:function(e,t,a){},a52d:function(e,t,a){"use strict";a("a370")},bb26:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"information",staticStyle:{padding:"25px"}},[o("el-form",{ref:"ruleForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[o("el-form-item",{attrs:{label:"公司名称：",prop:"companyId","label-width":"100px"}},[o("el-select",{attrs:{disabled:e.isChoice,clearable:"",placeholder:"请选择"},on:{change:e.changeCompany},model:{value:e.formInline.companyId,callback:function(t){e.$set(e.formInline,"companyId",t)},expression:"formInline.companyId"}},e._l(e.depList,(function(e){return o("el-option",{key:e.deptId,attrs:{label:e.deptName,value:e.deptId}})})),1)],1),o("div",{staticClass:"btn_export",staticStyle:{float:"right","margin-right":"35px"}},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.$router.back(-1)}}},[e._v("返回")]),o("el-button",{attrs:{type:"primary"},on:{click:e.exportFn}},[e._v("导出")])],1)],1),o("div",{staticClass:"card-box",attrs:{id:"first"}},[o("div",{staticClass:"card-title-box"},[o("img",{staticClass:"title-icon",attrs:{src:a("103a"),alt:""}}),o("div",{staticClass:"card-title-text"},[e._v("路网运行保障部信息")]),o("div",{staticClass:"card-title-button",on:{click:function(t){return e.swichButton("first")}}},[o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showCont.first,expression:"showCont.first"}],attrs:{type:"primary",icon:"el-icon-caret-top",text:""}},[e._v(" 收起 ")]),o("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.showCont.first,expression:"!showCont.first"}],attrs:{type:"primary",icon:"el-icon-caret-bottom",text:""}},[e._v(" 展开 ")])],1)]),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showCont.first,expression:"showCont.first"}],staticClass:"card-cont"},[o("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus,expression:"!editStatus"}],staticStyle:{"margin-bottom":"15px"},attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(t){e.editStatus=!e.editStatus}}},[e._v("编辑")]),o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.editStatus,expression:"editStatus"}],staticStyle:{"margin-bottom":"15px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.submit(1)}}},[e._v(" 保存 ")]),o("el-table",{staticClass:"mytable-scrollbar",attrs:{data:e.tableData.companyDeptList,border:"",loading:e.loading,"row-key":"roadId","header-cell-style":{background:"#eef6fa"}}},[o("el-table-column",{attrs:{prop:"deptName",label:"部门名称",align:"center"}}),o("el-table-column",{attrs:{prop:"deptFunctions",label:"部门职能",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("巡查、巡查、清障"==t.row.deptFunctions?"巡查、清障":t.row.deptFunctions)+" ")]}}])}),o("el-table-column",{attrs:{prop:"deptAddress",label:"办公驻地",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus,expression:"!editStatus"}]},[e._v(" "+e._s(t.row.deptAddress)+" ")]),o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editStatus,expression:"editStatus"}],on:{change:function(a){return e.setFocus(t.row,{identificationId:"deptId",label:"deptAddress",tableLabel:"companyDeptList"})}},model:{value:t.row.deptAddress,callback:function(a){e.$set(t.row,"deptAddress",a)},expression:"scope.row.deptAddress"}})]}}])}),o("el-table-column",{attrs:{prop:"principal",label:"负责人",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus,expression:"!editStatus"}]},[e._v(" "+e._s(t.row.principal)+" ")]),o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editStatus,expression:"editStatus"}],on:{change:function(a){return e.setFocus(t.row,{identificationId:"deptId",label:"principal",tableLabel:"companyDeptList"})}},model:{value:t.row.principal,callback:function(a){e.$set(t.row,"principal",a)},expression:"scope.row.principal"}})]}}])}),o("el-table-column",{attrs:{prop:"contactInformation",label:"联系方式",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus,expression:"!editStatus"}]},[e._v(" "+e._s(t.row.contactInformation)+" ")]),o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editStatus,expression:"editStatus"}],on:{change:function(a){return e.setFocus(t.row,{identificationId:"deptId",label:"contactInformation",tableLabel:"companyDeptList"})}},model:{value:t.row.contactInformation,callback:function(a){e.$set(t.row,"contactInformation",a)},expression:"scope.row.contactInformation"}})]}}])}),o("el-table-column",{attrs:{prop:"deptPersonCount",label:"部门/大队人数",align:"center"}}),o("el-table-column",{attrs:{prop:"subDeptCount",label:"所辖机构数",align:"center"}}),o("el-table-column",{attrs:{prop:"subDeptPersonCount",label:"所辖机构人数",align:"center"}}),o("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus,expression:"!editStatus"}]},[e._v(" "+e._s(t.row.remark)+" ")]),o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editStatus,expression:"editStatus"}],on:{change:function(a){return e.setFocus(t.row,{identificationId:"deptId",label:"remark",tableLabel:"companyDeptList"})}},model:{value:t.row.remark,callback:function(a){e.$set(t.row,"remark",a)},expression:"scope.row.remark"}})]}}])})],1)],1)]),o("div",{staticClass:"card-box",attrs:{id:"second"}},[o("div",{staticClass:"card-title-box"},[o("img",{staticClass:"title-icon",attrs:{src:a("103a"),alt:""}}),o("div",{staticClass:"card-title-text"},[e._v("路网运行保障队信息")]),o("div",{staticClass:"card-title-button",on:{click:function(t){return e.swichButton("second")}}},[o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showCont.second,expression:"showCont.second"}],attrs:{type:"primary",icon:"el-icon-caret-top",text:""}},[e._v(" 收起 ")]),o("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.showCont.second,expression:"!showCont.second"}],attrs:{type:"primary",icon:"el-icon-caret-bottom",text:""}},[e._v(" 展开 ")])],1)]),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showCont.second,expression:"showCont.second"}],staticClass:"card-cont"},[o("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus2,expression:"!editStatus2"}],staticStyle:{"margin-bottom":"15px"},attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(t){e.editStatus2=!e.editStatus2}}},[e._v("编辑")]),o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.editStatus2,expression:"editStatus2"}],staticStyle:{"margin-bottom":"15px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.submit(2)}}},[e._v(" 保存 ")]),o("el-table",{staticClass:"mytable-scrollbar",attrs:{data:e.tableData.patrolList,border:"",loading:e.loading,"row-key":"roadId","header-cell-style":{background:"#eef6fa"},"span-method":e.arraySpanMethod}},[o("el-table-column",{attrs:{prop:"orgDesc",label:"所辖路保队",width:"160",align:"center"}}),o("el-table-column",{attrs:{prop:"location",label:"办公驻地",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus2,expression:"!editStatus2"}]},[e._v(" "+e._s(t.row.location)+" ")]),o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editStatus2,expression:"editStatus2"}],on:{change:function(a){return e.setFocus(t.row,{identificationId:"orgId",label:"location",tableLabel:"patrolList"})}},model:{value:t.row.location,callback:function(a){e.$set(t.row,"location",a)},expression:"scope.row.location"}})]}}])}),o("el-table-column",{attrs:{prop:"midUserName",label:"队长",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus2,expression:"!editStatus2"}]},[e._v(" "+e._s(t.row.midUserName)+" ")]),o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editStatus2,expression:"editStatus2"}],on:{change:function(a){return e.setFocus(t.row,{identificationId:"orgId",label:"midUserName",tableLabel:"patrolList"})}},model:{value:t.row.midUserName,callback:function(a){e.$set(t.row,"midUserName",a)},expression:"scope.row.midUserName"}})]}}])}),o("el-table-column",{attrs:{prop:"phone",label:"联系方式",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus2,expression:"!editStatus2"}]},[e._v(" "+e._s(t.row.phone)+" ")]),o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editStatus2,expression:"editStatus2"}],on:{change:function(a){return e.setFocus(t.row,{identificationId:"orgId",label:"phone",tableLabel:"patrolList"})}},model:{value:t.row.phone,callback:function(a){e.$set(t.row,"phone",a)},expression:"scope.row.phone"}})]}}])}),o("el-table-column",{attrs:{prop:"roadDesc",width:"220",align:"center",label:"管辖路线编号及名称"}}),o("el-table-column",{attrs:{prop:"startEndPointName",label:"管辖起止点名称",align:"center",width:"160"}}),o("el-table-column",{attrs:{prop:"startLineDesc",label:"管辖起点桩号",width:"130",align:"center"}}),o("el-table-column",{attrs:{prop:"endLineDesc",label:"管辖终点桩号",width:"130",align:"center"}}),o("el-table-column",{attrs:{prop:"mainRoadMileage",label:"管辖主线里程(公里)",width:"100",align:"center"}}),o("el-table-column",{attrs:{prop:"",label:"连接线、枢纽、匝道里程(公里)",width:"170",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{staticStyle:{"white-space":"pre-line"}},[e._v(e._s(t.row.nonMainRoadMileage))])]}}])}),o("el-table-column",{attrs:{prop:"lawEnforcementAgency",label:"辖区对应执法机构",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus2,expression:"!editStatus2"}]},[e._v(" "+e._s(t.row.lawEnforcementAgency)+" ")]),o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editStatus2,expression:"editStatus2"}],on:{change:function(a){return e.setFocus(t.row,{identificationId:"orgId",label:"lawEnforcementAgency",tableLabel:"patrolList"})}},model:{value:t.row.lawEnforcementAgency,callback:function(a){e.$set(t.row,"lawEnforcementAgency",a)},expression:"scope.row.lawEnforcementAgency"}})]}}])}),o("el-table-column",{attrs:{prop:"trafficControlAgency",label:"辖区对应高速交警机构",width:"170",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus2,expression:"!editStatus2"}]},[e._v(" "+e._s(t.row.trafficControlAgency)+" ")]),o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editStatus2,expression:"editStatus2"}],on:{change:function(a){return e.setFocus(t.row,{identificationId:"orgId",label:"trafficControlAgency",tableLabel:"patrolList"})}},model:{value:t.row.trafficControlAgency,callback:function(a){e.$set(t.row,"trafficControlAgency",a)},expression:"scope.row.trafficControlAgency"}})]}}])}),o("el-table-column",{attrs:{prop:"",label:"人员数量",align:"center",width:"75"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{staticStyle:{color:"#1890ff",cursor:"pointer"},on:{click:function(a){return e.goPersonnel(t.row)}}},[e._v(e._s(t.row.personTotal))])]}}])}),o("el-table-column",{attrs:{prop:"",label:"车辆数量",align:"center",width:"75"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{staticStyle:{color:"#1890ff",cursor:"pointer"},on:{click:function(a){return e.goVehicle(t.row,1)}}},[e._v(e._s(t.row.vehicleTotal))])]}}])})],1)],1)]),o("div",{staticClass:"card-box",attrs:{id:"thirda"}},[o("div",{staticClass:"card-title-box"},[o("img",{staticClass:"title-icon",attrs:{src:a("103a"),alt:""}}),o("div",{staticClass:"card-title-text"},[e._v("清障服务站点信息")]),o("div",{staticClass:"card-title-button",on:{click:function(t){return e.swichButton("thirda")}}},[o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showCont.thirda,expression:"showCont.thirda"}],attrs:{type:"primary",icon:"el-icon-caret-top",text:""}},[e._v(" 收起 ")]),o("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.showCont.thirda,expression:"!showCont.thirda"}],attrs:{type:"primary",icon:"el-icon-caret-bottom",text:""}},[e._v(" 展开 ")])],1)]),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showCont.thirda,expression:"showCont.thirda"}],staticClass:"card-cont"},[o("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus3,expression:"!editStatus3"}],staticStyle:{"margin-bottom":"15px"},attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(t){e.editStatus3=!e.editStatus3}}},[e._v("编辑")]),o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.editStatus3,expression:"editStatus3"}],staticStyle:{"margin-bottom":"15px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.submit(3)}}},[e._v(" 保存 ")]),o("el-table",{staticClass:"mytable-scrollbar",attrs:{data:e.tableData.clearanceList,border:"",loading:e.loading,"row-key":"roadId","header-cell-style":{background:"#eef6fa"},"span-method":e.arrayClaerSpanMethod}},[o("el-table-column",{attrs:{prop:"orgDesc",label:"机构名称",align:"center",width:"160"}}),o("el-table-column",{attrs:{prop:"location",label:"办公驻地",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus3,expression:"!editStatus3"}]},[e._v(" "+e._s(t.row.location)+" ")]),o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editStatus3,expression:"editStatus3"}],on:{change:function(a){return e.setFocus(t.row,{identificationId:"orgId",label:"location",tableLabel:"clearanceList"})}},model:{value:t.row.location,callback:function(a){e.$set(t.row,"location",a)},expression:"scope.row.location"}})]}}])}),o("el-table-column",{attrs:{prop:"midUserName",label:"队长",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus3,expression:"!editStatus3"}]},[e._v(" "+e._s(t.row.midUserName)+" ")]),o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editStatus3,expression:"editStatus3"}],on:{change:function(a){return e.setFocus(t.row,{identificationId:"orgId",label:"midUserName",tableLabel:"clearanceList"})}},model:{value:t.row.midUserName,callback:function(a){e.$set(t.row,"midUserName",a)},expression:"scope.row.midUserName"}})]}}])}),o("el-table-column",{attrs:{prop:"phone",label:"联系方式",align:"center",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus3,expression:"!editStatus3"}]},[e._v(" "+e._s(t.row.phone)+" ")]),o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editStatus3,expression:"editStatus3"}],on:{change:function(a){return e.setFocus(t.row,{identificationId:"orgId",label:"phone",tableLabel:"clearanceList"})}},model:{value:t.row.phone,callback:function(a){e.$set(t.row,"phone",a)},expression:"scope.row.phone"}})]}}])}),o("el-table-column",{attrs:{width:"220",prop:"roadDesc",label:"管辖路线编号及名称",align:"center"}}),o("el-table-column",{attrs:{prop:"startEndPointName",label:"管辖起点名称",width:"160",align:"center"}}),o("el-table-column",{attrs:{prop:"startLineDesc",label:"管辖起点桩号",width:"130",align:"center"}}),o("el-table-column",{attrs:{prop:"endLineDesc",label:"管辖终点桩号",width:"130",align:"center"}}),o("el-table-column",{attrs:{prop:"mainRoadMileage",label:"管辖主线里程(公里)",width:"100",align:"center"}}),o("el-table-column",{attrs:{prop:"",label:"连接线、枢纽、匝道里程(公里)",width:"170",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{staticStyle:{"white-space":"pre-line"}},[e._v(e._s(t.row.nonMainRoadMileage))])]}}])}),o("el-table-column",{attrs:{prop:"lawEnforcementAgency",label:"辖区对应执法机构",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus3,expression:"!editStatus3"}]},[e._v(" "+e._s(t.row.lawEnforcementAgency)+" ")]),o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editStatus3,expression:"editStatus3"}],on:{change:function(a){return e.setFocus(t.row,{identificationId:"orgId",label:"lawEnforcementAgency",tableLabel:"clearanceList"})}},model:{value:t.row.lawEnforcementAgency,callback:function(a){e.$set(t.row,"lawEnforcementAgency",a)},expression:"scope.row.lawEnforcementAgency"}})]}}])}),o("el-table-column",{attrs:{prop:"trafficControlAgency",label:"辖区对应高速交警机构",width:"170",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus3,expression:"!editStatus3"}]},[e._v(" "+e._s(t.row.trafficControlAgency)+" ")]),o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editStatus3,expression:"editStatus3"}],on:{change:function(a){return e.setFocus(t.row,{identificationId:"orgId",label:"trafficControlAgency",tableLabel:"clearanceList"})}},model:{value:t.row.trafficControlAgency,callback:function(a){e.$set(t.row,"trafficControlAgency",a)},expression:"scope.row.trafficControlAgency"}})]}}])}),o("el-table-column",{attrs:{prop:"",label:"人员数量",align:"center",width:"75"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{staticStyle:{color:"#1890ff",cursor:"pointer"},on:{click:function(a){return e.goPersonnel(t.row)}}},[e._v(e._s(t.row.personTotal))])]}}])}),o("el-table-column",{attrs:{prop:"",label:"车辆数量",align:"center",width:"75"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{staticStyle:{color:"#1890ff",cursor:"pointer"},on:{click:function(a){return e.goVehicle(t.row,2)}}},[e._v(e._s(t.row.vehicleTotal))])]}}])})],1)],1)])],1)},n=[],r=a("c7eb"),i=a("1da1"),s=a("5530"),l=(a("99af"),a("4de4"),a("d81d"),a("14d9"),a("d3b7"),a("2934")),c=a("dd21"),d=a("c5da"),u={components:{companyInfo:c["default"]},name:"Details",data:function(){return{spanArr:[],pos:0,clearSpanArr:[],clearPos:0,editStatus:!1,editStatus2:!1,editStatus3:!1,showCont:{first:!0,second:!0,thirda:!0},formInline:{companyId:""},depList:[],currentData:{},curretnCompany:"",tableData:{clearanceList:[],companyDeptList:[],patrolList:[]},loading:!0,isChoice:!1}},created:function(){this.curretnCompany=this.$store.getters.userInfo,this.initData()},methods:{exportFn:function(){var e=this,t="";this.depList.map((function(a){a.deptId==e.formInline.companyId&&(t=a.deptName)})),this.download("/orgManager/count/statDeptExport",Object(s["a"])({},this.formInline),"".concat(t,"部门信息_").concat((new Date).getTime(),".xlsx"))},goPersonnel:function(e){this.$router.push({path:"/organizationManagement/information",query:{orgId:e.orgId,companyId:this.formInline.companyId}})},goVehicle:function(e,t){this.$router.push({path:"/organizationManagement/information/vehicleDetails",query:{orgId:e.orgId,companyId:this.formInline.companyId,vehicleClass:t}})},submit:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function a(){var o;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(1==e?t.editStatus=!t.editStatus:2==e?t.editStatus2=!t.editStatus2:t.editStatus3=!t.editStatus3,t.formInline.companyId){a.next=3;break}return a.abrupt("return");case 3:return a.next=5,Object(d["v"])(t.tableData);case 5:o=a.sent,200==o.code&&(t.$message.success("保存成功"),t.changeCompany(t.formInline.companyId));case 7:case"end":return a.stop()}}),a)})))()},setFocus:function(e,t){var a=t.identificationId,o=void 0===a?"":a,n=t.label,r=void 0===n?"":n,i=t.tableLabel,s=void 0===i?"":i;this.tableData[s].map((function(t){t[o]==e[o]&&(t[r]=e[r])})),"patrolList"==s?this.tableData.clearanceList.map((function(t){t.orgId==e.orgId&&(t[r]=e[r])})):"clearanceList"==s&&this.tableData.patrolList.map((function(t){t.orgId==e.orgId&&(t[r]=e[r])}))},swichButton:function(e){this.showCont[e]=!this.showCont[e]},initData:function(){var e=this;return Object(i["a"])(Object(r["a"])().mark((function t(){var a;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["j"])();case 2:a=t.sent,e.depList=a.data,e.depList.map((function(t){if(e.$route.query.companyId&&t.deptId==e.$route.query.companyId)return e.formInline.companyId=t.deptId,void e.changeCompany(e.formInline.companyId);t.deptId==e.curretnCompany.companyId&&(e.formInline.companyId=t.deptId,e.changeCompany(e.curretnCompany.companyId),e.isChoice=!0)}));case 5:case"end":return t.stop()}}),t)})))()},changeCompany:function(e){var t=this;return Object(i["a"])(Object(r["a"])().mark((function a(){var o,n,i,s;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,o=t.depList.filter((function(t){return t.deptId==e})),t.currentData=o[0],a.next=5,Object(d["e"])(t.formInline);case 5:for(s in n=a.sent,i=n.data,t.tableData)t.tableData[s]=i[s];t.getSpanArr(t.tableData.patrolList,"road"),t.getSpanArr(t.tableData.clearanceList,"clear"),t.loading=!1;case 11:case"end":return a.stop()}}),a)})))()},getSpanArr:function(e,t){if("road"==t){this.spanArr=[],this.pos=0;for(var a=0;a<e.length;a++)0===a?(this.spanArr.push(1),this.pos=0):e[a].orgDesc===e[a-1].orgDesc&&e[a].location===e[a-1].location&&e[a].midUserName===e[a-1].midUserName&&e[a].phone===e[a-1].phone?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=a)}if("clear"==t){this.clearSpanArr=[],this.clearPos=0;for(var o=0;o<e.length;o++)0===o?(this.clearSpanArr.push(1),this.clearPos=0):e[o].orgDesc===e[o-1].orgDesc&&e[o].location===e[o-1].location&&e[o].midUserName===e[o-1].midUserName&&e[o].phone===e[o-1].phone?(this.clearSpanArr[this.clearPos]+=1,this.clearSpanArr.push(0)):(this.clearSpanArr.push(1),this.clearPos=o)}},arraySpanMethod:function(e){e.row,e.column;var t=e.rowIndex,a=e.columnIndex;if(0===a||1===a||2===a||3===a||10===a||11===a||12===a||13===a){var o=this.spanArr[t],n=o>0?1:0;return{rowspan:o,colspan:n}}},arrayClaerSpanMethod:function(e){e.row,e.column;var t=e.rowIndex,a=e.columnIndex;if(0===a||1===a||2===a||3===a||10===a||11===a||12===a||13===a){var o=this.clearSpanArr[t],n=o>0?1:0;return{rowspan:o,colspan:n}}}}},p=u,m=(a("7d83"),a("2877")),f=Object(m["a"])(p,o,n,!1,null,"bee11dfc",null);t["default"]=f.exports},c5da:function(e,t,a){"use strict";a.d(t,"p",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"i",(function(){return i})),a.d(t,"h",(function(){return s})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"t",(function(){return d})),a.d(t,"s",(function(){return u})),a.d(t,"q",(function(){return p})),a.d(t,"r",(function(){return m})),a.d(t,"j",(function(){return f})),a.d(t,"m",(function(){return w})),a.d(t,"o",(function(){return h})),a.d(t,"d",(function(){return b})),a.d(t,"g",(function(){return v})),a.d(t,"k",(function(){return g})),a.d(t,"l",(function(){return y})),a.d(t,"u",(function(){return S})),a.d(t,"n",(function(){return I})),a.d(t,"e",(function(){return x})),a.d(t,"v",(function(){return k})),a.d(t,"f",(function(){return N}));a("99af");var o=a("b775");function n(e){return Object(o["a"])({url:"/roadProducts/roadType/roadTypeTree",method:"post",data:e})}function r(e){return Object(o["a"])({url:"/system/dept/getInfoByCompanyId/".concat(e),method:"get"})}function i(e){var t=e.pageNum,a=void 0===t?1:t,n=e.pageSize,r=void 0===n?10:n;return delete e.pageNum,delete e.pageSize,Object(o["a"])({url:"/roadProducts/employee/page?pageSize=".concat(r,"&pageNum=").concat(a),method:"post",data:e})}function s(e){return Object(o["a"])({url:"/roadProducts/employee/".concat(e.id),method:"get",params:e})}function l(e,t){return Object(o["a"])({url:"/roadProducts/employee",method:t,data:e})}function c(e){return Object(o["a"])({url:"/roadProducts/employee/".concat(e),method:"DELETE"})}function d(e){return Object(o["a"])({url:"/roadProducts/tVehicleInfo/list",method:"post",data:e})}function u(e){return Object(o["a"])({url:"/roadProducts/tVehicleInfo/info/"+e,method:"get"})}function p(e,t,a){return Object(o["a"])({url:"/roadProducts/tVehicleInfo/"+t,method:a,data:e})}function m(e){return Object(o["a"])({url:"/roadProducts/tVehicleInfo/remove/"+e,method:"delete"})}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(o["a"])({url:"/system/user/"+e,method:"get"})}function w(e){return Object(o["a"])({url:"/orgManager/count/companyOperationsCount",method:"post",data:e})}function h(e){return Object(o["a"])({url:"/orgManager/count/roadSituationCount",method:"post",data:e})}function b(e){return Object(o["a"])({url:"/roadProducts/mainRoadInfo/getRoadList",method:"post",data:e})}function v(e){return Object(o["a"])({url:"/orgManager/count/updList",method:"post",data:e})}function g(e){return Object(o["a"])({url:"/orgManager/count/getAllRoadInfo",method:"get",params:e})}function y(e){var t=e?e.companyType:"";return Object(o["a"])({url:"/orgManager/count/getAllRoadSourceInfos?companyType=".concat(t),method:"get"})}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o["a"])({url:"/orgManager/count/getVehicleTotalInfos",method:"post",data:e})}function I(e){return Object(o["a"])({url:"/roadProducts/tReportRoadInfo/getPatrolTimesNameList",method:"get",params:e})}function x(e){return Object(o["a"])({url:"/orgManager/count/statDept",method:"post",data:e})}function k(e){return Object(o["a"])({url:"/orgManager/count/updateDept",method:"post",data:e})}function N(e){var t=e?e.companyType:"";return Object(o["a"])({url:"/orgManager/count/statPerson?companyType=".concat(t),method:"get",data:e})}},dd21:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"r_pages"},[a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"基本信息",name:"1"}},[a("el-form",{ref:"ruleForm",attrs:{"label-width":"120px",model:e.formInline}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"单位名称："}},[a("el-input",{attrs:{disabled:"",placeholder:"请输入"},model:{value:e.formInline.companyName,callback:function(t){e.$set(e.formInline,"companyName",t)},expression:"formInline.companyName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"分管领导："}},[a("el-input",{attrs:{disabled:"",placeholder:"请输入"},model:{value:e.formInline.companyLeader,callback:function(t){e.$set(e.formInline,"companyLeader",t)},expression:"formInline.companyLeader"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系方式："}},[a("el-input",{attrs:{disabled:"",placeholder:"请输入"},model:{value:e.formInline.companyLeaderPhone,callback:function(t){e.$set(e.formInline,"companyLeaderPhone",t)},expression:"formInline.companyLeaderPhone"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"路产保护大队："}},[a("el-input",{attrs:{disabled:"",placeholder:"请输入"},model:{value:e.formInline.deptName,callback:function(t){e.$set(e.formInline,"deptName",t)},expression:"formInline.deptName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"大队长："}},[a("el-input",{attrs:{disabled:"",placeholder:"请输入"},model:{value:e.formInline.deptLeader,callback:function(t){e.$set(e.formInline,"deptLeader",t)},expression:"formInline.deptLeader"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系方式："}},[a("el-input",{attrs:{disabled:"",placeholder:"请输入"},model:{value:e.formInline.deptLeaderPhone,callback:function(t){e.$set(e.formInline,"deptLeaderPhone",t)},expression:"formInline.deptLeaderPhone"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"办公驻地："}},[a("el-input",{attrs:{disabled:"",placeholder:"请输入"},model:{value:e.formInline.location,callback:function(t){e.$set(e.formInline,"location",t)},expression:"formInline.location"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"所辖中队数："}},[a("el-input",{attrs:{disabled:"",placeholder:"请输入"},model:{value:e.formInline.subDeptNumber,callback:function(t){e.$set(e.formInline,"subDeptNumber",t)},expression:"formInline.subDeptNumber"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"所辖人员数："}},[a("el-input",{attrs:{disabled:"",placeholder:"请输入"},model:{value:e.formInline.subPersonTotal,callback:function(t){e.$set(e.formInline,"subPersonTotal",t)},expression:"formInline.subPersonTotal"}})],1)],1)],1),a("el-row",[a("el-form-item",{attrs:{label:"备注："}},[a("el-input",{attrs:{disabled:"",type:"textarea",autosize:{minRows:4,maxRows:4}},model:{value:e.formInline.remark,callback:function(t){e.$set(e.formInline,"remark",t)},expression:"formInline.remark"}})],1)],1)],1)],1),a("el-collapse-item",{attrs:{title:"中队概览",name:"2"}},[a("el-row",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus,expression:"!editStatus"}],attrs:{type:"primary"},on:{click:e.setEditFrom}},[e._v(" 编辑 ")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.editStatus,expression:"editStatus"}],attrs:{type:"primary"},on:{click:e.setSaveForm}},[e._v(" 保存 ")])],1),a("br"),a("el-radio-group",{directives:[{name:"show",rawName:"v-show",value:e.isShowTabs,expression:"isShowTabs"}],staticStyle:{"margin-bottom":"30px"},model:{value:e.tabPosition,callback:function(t){e.tabPosition=t},expression:"tabPosition"}},[a("el-radio-button",{attrs:{label:"101"}},[e._v("巡查队")]),a("el-radio-button",{attrs:{label:"102"}},[e._v("清障队")])],1),a("el-table",{attrs:{data:e.tableData,border:"","row-key":"id","header-cell-style":{background:"#eef6fa",color:"#000"},"span-method":e.objectSpanMethod}},[a("el-table-column",{attrs:{prop:"orgDesc",label:"所辖中队"}}),a("el-table-column",{attrs:{prop:"location",label:"办公驻地"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus,expression:"!editStatus"}]},[e._v(" "+e._s(t.row.location)+" ")]),a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editStatus,expression:"editStatus"}],on:{blur:function(a){return e.setFocus(t.row)}},model:{value:t.row.location,callback:function(a){e.$set(t.row,"location",a)},expression:"scope.row.location"}})]}}])}),a("el-table-column",{attrs:{prop:"midUserName",label:"中队长","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"phone",label:"联系方式","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"roadDesc",label:"管辖路线编号及名称","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.renLX(t.row.roadCode,t.row.roadDesc)))])]}}])}),a("el-table-column",{attrs:{prop:"startLocationDesc",label:"管辖起点名称","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"startLineKmLevel",label:"管辖起点桩号","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.renZH(t.row.startLineKmLevel,t.row.startLineMLevel)))])]}}])}),a("el-table-column",{attrs:{prop:"startLineKmLevel",label:"管辖终点桩号","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.renZH(t.row.endLineKmLevel,t.row.endLineMLevel)))])]}}])}),a("el-table-column",{attrs:{prop:"sumManagerRoadDistance",label:"管辖总里程(km)","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"mainRoadDistance",label:"主线里程(km)","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"rampLineDistance",label:"匝道、连接线里程(km)","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"deptPersonCount",label:"人员数量","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.deptPersonCount))])]}}])}),a("el-table-column",{attrs:{prop:"deptVehicleCount",label:"车辆数量","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"remark",label:"备注","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus,expression:"!editStatus"}]},[e._v(" "+e._s(t.row.remark)+" ")]),a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editStatus,expression:"editStatus"}],model:{value:t.row.remark,callback:function(a){e.$set(t.row,"remark",a)},expression:"scope.row.remark"}})]}}])})],1)],1)],1)],1)},n=[],r=a("5530"),i=a("c7eb"),s=a("1da1"),l=(a("4de4"),a("d81d"),a("14d9"),a("d3b7"),a("2934"),a("c5da")),c={components:{},props:{currentData:{type:Object,default:function(){return{}}}},watch:{currentData:{handler:function(e,t){this.crow=e,this.tabPosition="",this.initData(),this.getData()},immediate:!0}},name:"unitDetailsList",data:function(){return{editStatus:!1,activeNames:["1","2"],formInline:{companyName:"",companyLeader:"",companyLeaderPhone:"",deptName:"",deptLeader:"",deptLeaderPhone:"",location:"",subDeptNumber:"",subPersonTotal:"",remark:""},crow:{},midInfoData:[],tabPosition:"",isShowTabs:!1}},computed:{tableData:function(){var e=this,t=this.tabPosition?this.midInfoData.filter((function(t){return t.deptType==e.tabPosition})):this.midInfoData;return t}},created:function(){},methods:{setFocus:function(e){for(var t=0;t<this.midInfoData.length;t++)this.midInfoData[t].orgId==e.orgId&&(this.midInfoData[t].location=e.location)},setUpData:function(){var e=this;this.editStatus=!1,this.$confirm("确定提交吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["g"])(e.midInfoData).then((function(t){e.$modal.msgSuccess("成功"),e.editStatus=!1,e.getData()}))})).catch((function(){}))},renLX:function(e,t){var a="",o="";return e&&(a=e),t&&(o="(".concat(t,")")),a+o},renZH:function(e,t){var a="",o="";return e&&(a="k".concat(e)),t&&(o="+".concat(t)),a+o},initData:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){var a,o,n,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:r={101:{orgName:e.crow.deptName,childOrgName:"晋中高速公路分公司路网运行保障大队",midCnt:7},102:{orgName:e.crow.deptName,childOrgName:"太旧高速公路分公司路网运行保障大队",midCnt:7},203:{orgName:e.crow.deptName,childOrgName:"长治高速公路分公司路网运行保障大队",midCnt:5}},e.formInline.orgName=null===(a=r[e.crow.deptId])||void 0===a?void 0:a.orgName,e.formInline.childOrgName=null===(o=r[e.crow.deptId])||void 0===o?void 0:o.childOrgName,e.formInline.midCnt=null===(n=r[e.crow.deptId])||void 0===n?void 0:n.midCnt;case 4:case"end":return t.stop()}}),t)})))()},setEditFrom:function(){this.editStatus=!0},setSaveForm:function(){this.setUpData()},getData:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){var a,o,n,s,c,d,u;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["m"])({companyId:e.crow.deptId});case 2:if(a=t.sent,o={},o=a,n=[],o.data&&(o.data.map((function(e){e.roadList?e.roadList.map((function(t,a){var o=Object(r["a"])(Object(r["a"])({},t),{},{location:e.location,midId:e.midId,midMobile:e.midMobile,midName:e.midName,phone:e.phone,midUserName:e.midUserName,controlCaseDesc:e.startLocationDesc,deptPersonCount:e.deptPersonCount,deptVehicleCount:e.deptVehicleCount,deptType:e.deptType,flage:!1});0===a&&(o.flage=e.roadList.length),n.push(o)})):n.push(Object(r["a"])(Object(r["a"])({},e),{},{flage:1}))})),e.midInfoData=n,c=null===(s=e.midInfoData[0])||void 0===s?void 0:s.deptType,e.midInfoData.map((function(t){t.deptType==c||(e.isShowTabs=!0)}))),e.crow.deptId){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,Object(l["c"])(e.crow.deptId);case 11:d=t.sent,u=d.data,e.formInline=u;case 14:case"end":return t.stop()}}),t)})))()},objectSpanMethod:function(e){var t=e.row,a=e.columnIndex;if(a<=3)return t.flage?{rowspan:t.flage,colspan:1}:{rowspan:0,colspan:0}}}},d=c,u=(a("a52d"),a("2877")),p=Object(u["a"])(d,o,n,!1,null,"73d66b57",null);t["default"]=p.exports}}]);