(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d57d1952","chunk-2d2257ba","chunk-2d0cc99c"],{"42d2":function(e,t,a){},4678:function(e,t,a){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-ps":"4c98","./ar-ps.js":"4c98","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"25548","./bs.js":"25548","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df48","./fa.js":"8df48","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b46","./gd.js":"f6b46","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku-kmr":"7558","./ku-kmr.js":"7558","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=r,e.exports=n,n.id="4678"},"4f2f":function(e,t,a){"use strict";a.r(t);a("d81d"),a("b0c0"),a("e9c4"),a("b64b");var i=a("313e");t["default"]={legend:{data:["工单数","总金额"]},lineOption:{tooltip:{trigger:"axis",axisPointer:{type:"cross"}},grid:{left:"2%",right:"2%",bottom:"2%",top:"10%",containLabel:!0},xAxis:[{type:"category",data:[],axisLabel:{rotate:40},triggerEvent:!0}],yAxis:[{type:"value",name:"次"},{type:"value",name:"元"}],series:[{name:"工单数",type:"bar",tooltip:{valueFormatter:function(e){return e+" 次"}},barWidth:20,itemStyle:{color:"#2F7EF5"},data:[]},{name:"总金额",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(e){return e+" 元"}},itemStyle:{color:"#FF7D00"},data:[]}]},init:function(e){this.$el=e},show:function(e,t){var a,n,r=[];a=null===e||void 0===e?void 0:e.map((function(e){return e.name})),n=null===e||void 0===e?void 0:e.map((function(e){return e.ext1||0})),r=null===e||void 0===e?void 0:e.map((function(e){return e.ext2||0}));var s={};s=this.lineOption,s.xAxis[0].data=a,s.series[0].data=n,s.series[1].data=r,i["init"](this.$el).clear(),i["init"](this.$el).setOption(s)},edit:function(e){var t={};t=JSON.parse(JSON.stringify(this.lineOption)),t.yAxis=[{type:"value"},{type:"value"}],e&&(t=e),i["init"](this.$el).clear(),i["init"](this.$el).setOption(t)}}},7001:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"daily"},[a("div",{staticClass:"parmas"},[a("p",[e._v("单位名称：运城公司")]),a("el-form",{ref:"formInline",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"年份",prop:""}},[a("el-date-picker",{attrs:{type:"year","value-format":"yyyy",placeholder:"请选择"},on:{change:e.yearChange},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}})],1),a("el-form-item",{attrs:{label:"月份",prop:""}},[a("el-select",{attrs:{placeholder:"请选择月份",clearable:""},model:{value:e.month,callback:function(t){e.month=t},expression:"month"}},e._l(e.newMouthList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.month,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"清障单位",prop:"deptId"}},[a("el-cascader",{ref:"cascader",attrs:{clearable:"",placeholder:"请选择","popper-class":"cascader",options:e.DWList,props:{value:"id",checkStrictly:!0,emitPath:!1},"expand-trigger":"hover"},on:{change:e.deptChange},model:{value:e.formInline.deptId,callback:function(t){e.$set(e.formInline,"deptId",t)},expression:"formInline.deptId"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.getData}},[e._v("查询")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.reset("formInline")}}},[e._v("重置")])],1),a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handDateStatExport}},[e._v("导出")])],1)],1)],1),a("vxe-grid",{attrs:{loading:e.table.loading,"span-method":e.handleSpanMethod,stripe:"",border:"",resizable:"","auto-resize":"","max-height":"730",columns:e.columns,data:e.table.datas}}),e._m(0),a("el-row",{staticStyle:{margin:"20px 0"}},[e._v(" 时间： "),a("el-date-picker",{staticStyle:{width:"150px"},attrs:{"value-format":"yyyy-MM-dd","picker-options":e.pickerOptions,type:"date",placeholder:"开始日期"},model:{value:e.beginTime,callback:function(t){e.beginTime=t},expression:"beginTime"}}),a("span",{staticStyle:{margin:"0 8px"}},[e._v("至")]),a("el-date-picker",{staticStyle:{width:"150px"},attrs:{"value-format":"yyyy-MM-dd","picker-options":e.pickerOptions,type:"date",placeholder:"结束日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}}),a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.dateStatListExport}},[e._v("导出")])],1)],1),a("vxe-grid",{attrs:{"pager-config":e.table2.page,loading:e.table2.loading,stripe:"",border:"",resizable:"","auto-resize":"","max-height":"730",columns:e.columns2,data:e.table.datas2},on:{"page-change":e.handlePageChange2,"sort-change":e.handleSortChange},scopedSlots:e._u([{key:"clearanceTypeDesc",fn:function(t){var i=t.row;return[a("div",{staticClass:"qzlx_type",class:"qzlx_type"+i.clearanceType},[e._v(" "+e._s(i.clearanceTypeDesc))])]}},{key:"departureTime",fn:function(t){var i=t.row;return[a("span",{style:{color:i.departureTime>10?"#f00f0f":""}},[e._v(e._s(i.departureTime))])]}},{key:"arrivalTime",fn:function(t){var i=t.row;return[a("span",{style:{color:i.arrivalTime>40?"#f00f0f":""}},[e._v(e._s(i.arrivalTime))])]}},{key:"reviewTime",fn:function(t){var i=t.row;return[a("span",{style:{color:i.reviewTime>24?"#f00f0f":""}},[e._v(e._s(i.reviewTime))])]}},{key:"option",fn:function(t){var i=t.row;return[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleDetail(i)}}},[e._v("详情")])]}}])})],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"25px","justify-content":"space-between",display:"flex"}},[a("div",{staticClass:"quantity_amount_chart",staticStyle:{width:"49.5%",height:"300px",border:"1px rgba(0,0,0,.1) solid",padding:"20px"}}),a("div",{staticClass:"quantity_amount_chart2",staticStyle:{width:"49.5%",height:"300px",border:"1px rgba(0,0,0,.1) solid",padding:"20px"}})])}],r=a("c7eb"),s=a("1da1"),o=a("5530"),l=(a("7db0"),a("d81d"),a("14d9"),a("fb6a"),a("a9e3"),a("d3b7"),a("ac1f"),a("5319"),a("2934")),c=a("97eb4"),d=a("c1df"),f=a.n(d),m=a("e51e"),u=a("4f2f"),h={data:function(){var e=this;return{typeList:[{label:"事故",id:1},{label:"故障",id:2},{label:"其他",id:3}],pickerOptions:{disabledDate:function(t){return e.month&&Number(e.month)!=t.getMonth()+1||t.getFullYear()!=e.year}},beginTime:void 0,endTime:void 0,formInline:{},year:f()(new Date).format("yyyy"),month:void 0,DWList:[],monthList:[{month:"一月",id:"01"},{month:"二月",id:"02"},{month:"三月",id:"03"},{month:"四月",id:"04"},{month:"五月",id:"05"},{month:"六月",id:"06"},{month:"七月",id:"07"},{month:"八月",id:"08"},{month:"九月",id:"09"},{month:"十月",id:"10"},{month:"十一月",id:"11"},{month:"十二月",id:"12"}],table:{loading:!1,page:{total:0,currentPage:1,pageSize:10,align:"left",pageSizes:[10,20,50],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0},datas:[],datas2:[]},table2:{loading:!1,page:{total:0,currentPage:1,pageSize:10,align:"left",pageSizes:[10,20,50],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0},datas:[],datas2:[]},columns:[{title:"年份",field:"date",align:"center"},{title:"公司名称",field:"deptName",align:"center"},{title:"清障数量(次)",field:"totalCount",align:"center"},{title:"清障救援金额(元)",field:"totalAmount",align:"center"},{title:"10分钟出发率",field:"within10MinutesSetOut",align:"center"},{title:"40分钟到达率",field:"within40MinutesReach",align:"center"},{title:"平均作业时间(分钟)",field:"avgWorkTime",align:"center"}],columns2:[{type:"seq",width:50,title:"序号",align:"center",fixed:"left"},{title:"清障单位",field:"deptName",align:"center",fixed:"left",width:220,sortable:!0},{title:"工单创建时间",field:"createTime",align:"center",width:150,sortable:!0},{title:"清障类型",slots:{default:"clearanceTypeDesc"},align:"center",width:120,sortable:!0},{title:"清障位置",field:"roadName",align:"center",width:200},{title:"清障人员",field:"clearancePerson",align:"center",width:180},{title:"清障车信息",field:"clearanceVehicle",align:"center",width:160},{title:"被清理车辆",field:"resourceVehicleType",align:"center",width:120},{title:"出车时间(分钟)",slots:{default:"departureTime"},align:"center",width:150,sortable:!0},{title:"到达时间(分钟)",slots:{default:"arrivalTime"},align:"center",width:150,sortable:!0},{title:"是否空驶",field:"isEmptyDriving",align:"center",width:100,sortable:!0},{title:"作业时间(分钟)",field:"operationTime",align:"center",width:100,sortable:!0},{title:"审核时间(小时)",slots:{default:"reviewTime"},align:"center",width:100,sortable:!0},{title:"拖行/超出里程(km)",field:"exceededMileage",align:"center",width:100},{title:"清障费用(元)",field:"clearanceCost",align:"center",width:90,sortable:!0},{title:"操作",slots:{default:"option"},align:"center",fixed:"right",width:200}],newMouthList:[]}},mounted:function(){var e=this;Object(l["g"])({ancestors:10040,isFilter:!0}).then((function(t){e.DWList=t.data})),this.getData(),this.getPastMonths(this.year)},methods:{getPastMonths:function(e){var t=new Date,a=t.getFullYear();if(e>a)this.newMouthList=[];else if(e==a){var i=t.getMonth();this.newMouthList=this.monthList.slice(0,i)}else this.newMouthList=this.monthList},handlePageChange2:function(e){var t=e.currentPage,a=e.pageSize;this.table2.page.currentPage=t,this.table2.page.pageSize=a,this.getQueryList()},handlePageChange:function(e){var t=e.currentPage,a=e.pageSize;this.table.page.currentPage=t,this.table.page.pageSize=a,this.getDateStat()},handleSortChange:function(e){var t=e.field,a=e.order;this.month?(this.formInline.timeType="MONTH",this.formInline.statDateStr=(this.year||f()(new Date).format("yyyy"))+"-"+this.month):this.year?(this.formInline.timeType="YEAR",this.formInline.statDateStr=this.year):(this.formInline.timeType=void 0,this.formInline.statDateStr=void 0);var i=Object(o["a"])(Object(o["a"])({},this.formInline),{},{companyId:10040,orderByColumn:t,isAsc:a});this.getQueryList(i)},handDateStatExport:function(){this.month?(this.formInline.timeType="MONTH",this.formInline.statDateStr=(this.year||f()(new Date).format("yyyy"))+"-"+this.month):this.year?(this.formInline.timeType="YEAR",this.formInline.statDateStr=this.year):(this.formInline.timeType=void 0,this.formInline.statDateStr=void 0);var e=Object(o["a"])(Object(o["a"])({},this.formInline),{},{companyId:10040});this.download("/statistics/qz/dateStatExport",Object(o["a"])({},e),"日期统计信息.xlsx")},dateStatListExport:function(){this.month?(this.formInline.timeType="MONTH",this.formInline.statDateStr=(this.year||f()(new Date).format("yyyy"))+"-"+this.month):this.year?(this.formInline.timeType="YEAR",this.formInline.statDateStr=this.year):(this.formInline.timeType=void 0,this.formInline.statDateStr=void 0);var e=Object(o["a"])(Object(o["a"])({},this.formInline),{},{companyId:10040});(this.beginTime||this.endTime)&&(e.timeType="CUSTOM"),this.download("/statistics/qz/dateStatListExport",Object(o["a"])(Object(o["a"])({},e),{},{endTime:this.endTime&&this.endTime+" 00:00:00",beginTime:this.beginTime&&this.beginTime+" 00:00:00"}),"清障救援信息.xlsx")},handleDetail:function(e){this.$router.push({path:"/clearanceRescue/clearanceDetails",query:{id:e.id}})},getDateStat:function(e){var t=this;return Object(s["a"])(Object(r["a"])().mark((function a(){var i,n,s;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.month?(t.formInline.timeType="MONTH",t.formInline.statDateStr=(t.year||f()(new Date).format("yyyy"))+"-"+t.month):t.year?(t.formInline.timeType="YEAR",t.formInline.statDateStr=t.year):(t.formInline.timeType=void 0,t.formInline.statDateStr=void 0),i=Object(o["a"])(Object(o["a"])({},t.formInline),{},{companyId:10040,pageNum:t.table.page.currentPage,pageSize:t.table.page.pageSize}),a.next=4,Object(c["a"])(e||i);case 4:n=a.sent,s=n.data,t.table.datas=s;case 7:case"end":return a.stop()}}),a)})))()},getQuantityAndAmountStat:function(e){return Object(s["a"])(Object(r["a"])().mark((function t(){var a,i,n,s,o,l,d;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["f"])(e);case 2:a=t.sent,i=a.data,n=[],s=[],o=[],i.map((function(e){n.push(e.totalCount),s.push(e.totalAmount),o.push(e.date)})),l=document.querySelector(".quantity_amount_chart"),d=[{name:"清障数量",data:n},{name:"清障金额",data:s}],m["default"].init(l),m["default"].setData(o,d),m["default"].show();case 13:case"end":return t.stop()}}),t)})))()},getEfficiencyStat:function(e){return Object(s["a"])(Object(r["a"])().mark((function t(){var a,i,n,s,o,l,d,f;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["c"])(e);case 2:a=t.sent,i=a.data,n=[],s=[],o=[],l=[],i.map((function(e){n.push(e.date),s.push(e.avgWorkTime),o.push(e.within10MinutesSetOut.replace(/%/,"")),l.push(e.within40MinutesReach.replace(/%/,""))})),["#37A2DA","#ff3a3a"],d={title:{text:"清障救援效率统计",left:"left",textStyle:{fontSize:18,color:"#333"}},tooltip:{trigger:"axis",axisPointer:{type:"line"},textStyle:{color:"#fafafa"},borderColor:"transparent",backgroundColor:"rgba(0, 0, 0, 0.5)",extraCssText:"backdrop-filter: blur(6px);"},backgroundColor:"#ffffff",grid:{top:"20%",left:"2%",right:"2.5%",bottom:"0%",containLabel:!0},legend:{data:["平均作业时间","10分钟出发率","40分钟到达率"],textStyle:{align:"right"},right:"center",left:"center",top:"2%",icon:"diamond"},xAxis:[{type:"category",axisTick:{alignWithLabel:!0},data:n}],yAxis:[{name:"分钟",type:"value",position:"left",minInterval:1},{name:"%",type:"value",position:"right",minInterval:1}],series:[{name:"平均作业时间",type:"bar",smooth:!0,barMaxWidth:20,yAxisIndex:0,data:s},{name:"10分钟出发率",type:"line",smooth:!0,symbol:"circle",symbolSize:10,yAxisIndex:1,data:o},{name:"40分钟到达率",type:"line",smooth:!0,symbol:"circle",symbolSize:10,yAxisIndex:1,data:l}]},f=document.querySelector(".quantity_amount_chart2"),u["default"].init(f),u["default"].edit(d);case 14:case"end":return t.stop()}}),t)})))()},getQueryList:function(){var e=arguments,t=this;return Object(s["a"])(Object(r["a"])().mark((function a(){var i,n,s;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=e.length>0&&void 0!==e[0]?e[0]:{},t.month?(t.formInline.timeType="MONTH",t.formInline.statDateStr=(t.year||f()(new Date).format("yyyy"))+"-"+t.month):t.year?(t.formInline.timeType="YEAR",t.formInline.statDateStr=t.year):(t.formInline.timeType=void 0,t.formInline.statDateStr=void 0),n=Object(o["a"])(Object(o["a"])(Object(o["a"])({},i),t.formInline),{},{companyId:10040,pageNum:t.table2.page.currentPage,pageSize:t.table2.page.pageSize}),(t.beginTime||t.endTime)&&(n.timeType="CUSTOM"),a.next=6,Object(c["b"])(Object(o["a"])(Object(o["a"])({},n),{},{endTime:t.endTime&&t.endTime+" 00:00:00",beginTime:t.beginTime&&t.beginTime+" 00:00:00"}));case 6:s=a.sent,s.rows.map((function(e){e.clearanceType&&(e.clearanceTypeDesc=e.clearanceType,e.clearanceType=t.typeList.find((function(t){return t.label==e.clearanceType})).id)})),t.table.datas2=s.rows,t.table2.page.total=s.total;case 10:case"end":return a.stop()}}),a)})))()},handleSpanMethod:function(e){e.rowIndex,e.columnIndex;var t=e.row;e.column;if("合计"==t.date)return{rowspan:2,colspan:1}},deptChange:function(e){this.$refs.cascader&&(this.$refs.cascader.dropDownVisible=!1)},yearChange:function(){this.month=void 0,this.getPastMonths(this.year)},getData:function(){var e=this;return Object(s["a"])(Object(r["a"])().mark((function t(){var a;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.table.loading=!0,e.month?(e.formInline.timeType="MONTH",e.formInline.statDateStr=(e.year||f()(new Date).format("yyyy"))+"-"+e.month):e.year?(e.formInline.timeType="YEAR",e.formInline.statDateStr=e.year):(e.formInline.timeType=void 0,e.formInline.statDateStr=void 0),a=Object(o["a"])(Object(o["a"])({},e.formInline),{},{companyId:10040}),e.columns=[{title:e.month?"月份":"年份",field:"date",align:"center"},{title:"公司名称",field:"deptName",align:"center"},{title:"清障数量(次)",field:"totalCount",align:"center"},{title:"清障救援金额(元)",field:"totalAmount",align:"center"},{title:"10分钟出发率",field:"within10MinutesSetOut",align:"center"},{title:"40分钟到达率",field:"within40MinutesReach",align:"center"},{title:"平均作业时间(分钟)",field:"avgWorkTime",align:"center"}],e.getDateStat(a),e.getQuantityAndAmountStat(a),e.getEfficiencyStat(a),e.getQueryList(a),e.table.loading=!1;case 9:case"end":return t.stop()}}),t)})))()},reset:function(e){this.$refs[e].resetFields(),this.year=f()(new Date).format("yyyy"),this.month=void 0,this.beginTime=void 0,this.endTime=void 0}}},p=h,b=(a("995a"),a("2877")),y=Object(b["a"])(p,i,n,!1,null,"53d200fc",null);t["default"]=y.exports},"97eb4":function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return s})),a.d(t,"f",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return c}));var i=a("b775");function n(e){return Object(i["a"])({url:"/statistics/qz/monthTotalStat",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/statistics/qz/monthTotalList",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/statistics/qz/dateStat",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/statistics/qz/quantityAndAmountStat",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/statistics/qz/efficiencyStat",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/statistics/qz/dateStatList",method:"post",data:e})}},"995a":function(e,t,a){"use strict";a("42d2")},e51e:function(e,t,a){"use strict";a.r(t);a("99af"),a("d81d"),a("b0c0"),a("ac1f"),a("5319");var i=a("313e");t["default"]={init:function(e){this.$el=e},show:function(){var e={title:{text:"清障救援数量金额统计",left:"left",textStyle:{fontSize:18,color:"#333"},subtextStyle:{fontSize:14,color:"#666"}},series:s.map((function(e,t){var a=n(l[t]),i="rgba(".concat(a.r,",").concat(a.g,",").concat(a.b,",0)");return{yAxisIndex:t,name:e.name,data:e.data,type:"line",smooth:!0,showSymbol:!1,symbolSize:10,emphasis:{focus:"series"},animationDuration:2500,animationEasing:"cubicInOut",itemStyle:{color:l[t]},lineStyle:{width:4,color:"rgba(".concat(a.r,",").concat(a.g,",").concat(a.b,",1)")},areaStyle:{width:4,opacity:.45,color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:.389,color:l[t]},{offset:1,color:i}],global:!1}}}})),tooltip:{trigger:"axis",axisPointer:{type:"line"},textStyle:{color:"#fafafa"},borderColor:"transparent",backgroundColor:"rgba(0, 0, 0, 0.5)",extraCssText:"backdrop-filter: blur(6px);"},grid:{top:"20%",left:"2%",right:"2.5%",bottom:"0%",containLabel:!0},legend:{show:!0,left:"center",right:"center",icon:"roundRect",itemHeight:5,itemWidth:10,itemGap:40,textStyle:{fontSize:12},itemStyle:{borderColor:"transparent",borderWidth:6}},xAxis:o(r),yAxis:[{type:"value",name:"次",axisLabel:{color:"#333",interval:1},minInterval:1},{type:"value",name:"元",position:"right",axisLabel:{color:"#333",interval:1},minInterval:1}]};i["init"](this.$el).clear(),i["init"](this.$el).setOption(e)},setData:function(e,t){r=e,s=t}};var n=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,(function(e,t,a,i){return t+t+a+a+i+i}));var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null},r=[],s=[],o=function(e){return[{type:"category",boundaryGap:!1,data:e,axisLine:{show:!1},axisTick:{show:!1}}]},l=["#107FFF","#fc8f28"]}}]);