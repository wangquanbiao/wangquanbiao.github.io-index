(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f44c2c48"],{1828:function(t,e,n){"use strict";n("f97e")},7636:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},[t._l(t.list,(function(e,a){return n("div",{key:a,staticClass:"l_item"},[n("HeaderTitle",{attrs:{title:e.title}}),1==e.type?n("div",{staticClass:"l_content",on:{click:t.openClearList}},[n("div",{staticClass:"lc_item"},[n("div",{staticClass:"cs"},[t._v(" 总"+t._s(e.name)+" ")]),n("div",{staticClass:"number"},[t._v(" "+t._s(t._f("formatNum")(e.topNum))+" "),n("span",[t._v(t._s(e.unit))])])]),n("div",{staticClass:"lc_item"},[n("div",{staticClass:"cs"},[t._v(" 总清障"+t._s(e.name)+" ")]),n("div",{staticClass:"number"},[t._v(" "+t._s(t._f("formatNum")(e.middleNum))+" "),n("span",[t._v(t._s(e.unit))])])]),n("div",{staticClass:"lc_item"},[n("div",{staticClass:"cs"},[t._v(" 总空驶"+t._s(e.name)+" ")]),n("div",{staticClass:"number"},[t._v(" "+t._s(t._f("formatNum")(e.bottomNum))+" "),n("span",[t._v(t._s(e.unit))])])])]):t._e(),2==e.type?n("div",{staticClass:"l_content gl_content"},[n("div",{staticClass:"gl_item",on:{click:function(e){return t.openBar("setOut")}}},[n("span",{staticClass:"totitle"},[t._v(" 10分钟出发率 ")]),n("el-progress",{staticStyle:{margin:"4px 0"},attrs:{type:"circle",width:74,"stroke-width":8,percentage:e.within10MinSetOut?Number(e.within10MinSetOut):0,color:"#165DFF"}})],1),n("div",{staticClass:"gl_item",on:{click:function(e){return t.openBar("arrive")}}},[n("span",{staticClass:"totitle"},[t._v(" 40分钟到达率 ")]),n("el-progress",{staticStyle:{margin:"4px 0"},attrs:{type:"circle",width:74,"stroke-width":8,percentage:e.within40MinReach?Number(e.within40MinReach):0,color:"#14C9C9"}})],1),n("div",{staticClass:"gl_item",on:{click:t.openLine}},[n("span",{staticClass:"totitle"},[t._v(" 平均作业时间 ")]),n("div",{staticClass:"circle_progress",staticStyle:{position:"relative",margin:"4px 0","font-size":"14px","font-weight":"bold"}},[n("el-progress",{attrs:{"show-text":!1,type:"circle",width:74,"stroke-width":8,percentage:100,color:"#fac858"}}),n("span",{staticStyle:{width:"100%","text-align":"center",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)"}},[t._v(t._s(e.avgJobTime)+"分钟")])],1)])]):t._e()],1)})),n("el-dialog",{attrs:{visible:t.dialogVisible,width:"70%"},on:{"update:visible":function(e){t.dialogVisible=e}}},["form"==t.dialogShow?n("div",[n("vxe-grid",{ref:"table",attrs:{"highlight-hover-row":"",stripe:"",border:"","max-height":"600",loading:t.table.loading,columns:t.columns,data:t.table.datas}})],1):t._e(),"bar"==t.dialogShow?n("div",{staticStyle:{width:"100%",height:"600px"},attrs:{id:"rate_Bar"}}):t._e(),"line"==t.dialogShow?n("div",{staticStyle:{width:"100%",height:"600px"},attrs:{id:"average_Line"}}):t._e()])],2)},r=[],i=n("c7eb"),c=n("5530"),o=n("1da1"),u=(n("4de4"),n("d81d"),n("14d9"),n("b0c0"),n("d3b7"),n("39f3")),s=n("313e"),l=n("e984"),d=n("2934"),m={props:{info:{type:Object,default:function(){return{}}},formInline:{type:Object,default:function(){return{}}},query:{type:Object,default:function(){return{}}}},components:{HeaderTitle:u["a"]},data:function(){return{allCompanyList:[],dialogShow:null,list:[],dialogVisible:!1,table:{loading:!0,page:{total:0,perfect:!0},datas:[]},columns:[{title:"清障救援情况",align:"center",children:[{title:"公司名称",field:"companyName",align:"center"},{title:"清障救援次数",align:"center",children:[{title:"总次数",field:"totalCnt",align:"center"},{title:"总清障次数",align:"center",field:"normalCnt"},{title:"总空驶次数",align:"center",field:"abnormalCnt"}]},{title:"清障救援金额",align:"center",children:[{title:"总金额",align:"center",field:"totalAmt"},{title:"总清障金额",align:"center",field:"normalAmt"},{title:"总空驶金额",align:"center",field:"abnormalAmt"}]},{title:"清障救援作业里程",align:"center",children:[{title:"总里程",align:"center",field:"totalMile"},{title:"总清障里程",align:"center",field:"normalMile"},{title:"总空驶里程",align:"center",field:"abnormalMile"}]}]}]}},watch:{info:{handler:function(t){var e=[{type:1,title:"清障救援次数",unit:"次",name:"次数",topNum:t.totalCnt||0,middleNum:t.normalCnt||0,bottomNum:t.abnormalCnt||0,topHB:t.totalCntMOM||0,middleHB:t.normalCntMOM||0,bottomHB:t.abnormalCntMOM||0},{type:1,title:"清障救援金额",unit:"元",name:"金额",topNum:t.totalAmt||0,middleNum:t.normalAmt||0,bottomNum:t.abnormalAmt||0,topHB:t.totalAmtMOM||0,middleHB:t.normalAmtMOM||0,bottomHB:t.abnormalAmtMOM||0},{type:1,title:"清障救援作业里程",unit:"km",name:"里程",topNum:t.totalMile||0,middleNum:t.normalMile||0,bottomNum:t.abnormalMile||0,topHB:t.totalMileMOM||0,middleHB:t.normalMileMOM||0,bottomHB:t.abnormalMileMOM||0},{type:2,title:"清障救援服务效率概览",within10MinSetOut:t.within10MinSetOut||0,within40MinReach:t.within40MinReach||0,avgJobTime:t.avgJobTime||0}];this.list=e},deep:!0}},methods:{openClearList:function(){var t=this;return Object(o["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dialogShow="form",t.dialogVisible=!0,t.table.loading=!0,e.next=5,Object(l["f"])(Object(c["a"])({},t.query)).then((function(e){t.table.datas=e.data}));case 5:t.table.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},openBar:function(t){var e=this;return Object(o["a"])(Object(i["a"])().mark((function n(){var a,r,u,d,m,f;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e,r=null,u=[],d=[],m="",f={},"arrive"!=t){n.next=14;break}return n.next=9,Object(l["o"])(Object(c["a"])(Object(c["a"])({},e.query),{},{isArrivalRate:!0}));case 9:r=n.sent,f=Object(c["a"])(Object(c["a"])({},e.query),{},{isArrivalRate:!0}),m="到达率",n.next=20;break;case 14:if("setOut"!=t){n.next=20;break}return n.next=17,Object(l["o"])(Object(c["a"])(Object(c["a"])({},e.query),{},{isDepartureRate:!0}));case 17:r=n.sent,m="出发率",f=Object(c["a"])(Object(c["a"])({},e.query),{},{isDepartureRate:!0});case 20:r.data.map((function(t){u.push(t.name),d.push(t.data)})),e.dialogShow="bar",e.dialogVisible=!0,e.$nextTick((function(){var t=document.getElementById("rate_Bar"),e=s["init"](t),n={xAxis:{type:"category",data:u,axisLabel:{rotate:40},triggerEvent:!0},yAxis:{type:"value"},legend:{},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},series:[{name:m,data:d,type:"bar",barWidth:20}]};e.setOption(n),e.off("click"),e.on("click",function(){var t=Object(o["a"])(Object(i["a"])().mark((function t(r){var o,u,s,d,m;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("xAxis"!=r.componentType||null!==(o=a.query)&&void 0!==o&&o.companyId){t.next=11;break}return u=[],s=[],d=a.allCompanyList.filter((function(t){return t.deptName==r.value})),t.next=6,Object(l["o"])(Object(c["a"])(Object(c["a"])({},f),{},{companyId:d[0].deptId}));case 6:m=t.sent,m.data.map((function(t){u.push(t.name),s.push(t.data)})),n.xAxis.data=u,n.series[0].data=s,e.setOption(n);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));case 24:case"end":return n.stop()}}),n)})))()},openLine:function(){var t=this;return Object(o["a"])(Object(i["a"])().mark((function e(){var n,a,r,u;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t,a=[],r=[],t.dialogShow="line",t.dialogVisible=!0,e.next=7,Object(l["o"])(Object(c["a"])(Object(c["a"])({},t.query),{},{isAvgOperationTime:!0}));case 7:u=e.sent,u.data.map((function(t){a.push(t.name),r.push(t.data)})),t.$nextTick((function(){var t=document.getElementById("average_Line"),e=s["init"](t),u={xAxis:{type:"category",data:a,axisLabel:{rotate:40},triggerEvent:!0},yAxis:{type:"value"},legend:{},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},series:[{name:"平均作业时间",data:r,type:"line"}]};e.setOption(u),e.off("click"),e.on("click",function(){var t=Object(o["a"])(Object(i["a"])().mark((function t(a){var r,o,s,d,m;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("xAxis"!=a.componentType||null!==(r=n.query)&&void 0!==r&&r.companyId){t.next=11;break}return o=[],s=[],d=n.allCompanyList.filter((function(t){return t.deptName==a.value})),t.next=6,Object(l["o"])(Object(c["a"])(Object(c["a"])({},n.query),{},{isAvgOperationTime:!0,companyId:d[0].deptId}));case 6:m=t.sent,m.data.map((function(t){o.push(t.name),s.push(t.data)})),u.xAxis.data=o,u.series[0].data=s,e.setOption(u);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));case 10:case"end":return e.stop()}}),e)})))()},handleGoTo:function(t){this.$router.push({path:"/clearanceRescue/query",query:{startTime:this.formInline.startTime,endTime:this.formInline.endTime,timeType:this.formInline.timeType,type:t}})}},mounted:function(){var t=this;Object(d["j"])().then((function(e){t.allCompanyList=e.data}))}},f=m,p=(n("1828"),n("2877")),b=Object(p["a"])(f,a,r,!1,null,"6428d68c",null);e["default"]=b.exports},e984:function(t,e,n){"use strict";n.d(e,"s",(function(){return r})),n.d(e,"D",(function(){return i})),n.d(e,"n",(function(){return c})),n.d(e,"t",(function(){return o})),n.d(e,"g",(function(){return u})),n.d(e,"j",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"h",(function(){return d})),n.d(e,"i",(function(){return m})),n.d(e,"p",(function(){return f})),n.d(e,"q",(function(){return p})),n.d(e,"r",(function(){return b})),n.d(e,"u",(function(){return h})),n.d(e,"v",(function(){return O})),n.d(e,"e",(function(){return v})),n.d(e,"a",(function(){return g})),n.d(e,"A",(function(){return j})),n.d(e,"w",(function(){return y})),n.d(e,"E",(function(){return w})),n.d(e,"d",(function(){return x})),n.d(e,"b",(function(){return _})),n.d(e,"z",(function(){return C})),n.d(e,"l",(function(){return M})),n.d(e,"y",(function(){return R})),n.d(e,"k",(function(){return P})),n.d(e,"m",(function(){return k})),n.d(e,"B",(function(){return T})),n.d(e,"f",(function(){return A})),n.d(e,"o",(function(){return S})),n.d(e,"x",(function(){return N})),n.d(e,"C",(function(){return q}));var a=n("b775");function r(){return Object(a["a"])({url:"/system/dept/list?type=1&isFilter=false",method:"get"})}function i(t){return Object(a["a"])({url:"/roadProducts/clearanceRescue/updateData",method:"PUT",data:t})}function c(t){return Object(a["a"])({url:"/roadProducts/clearanceRescue/generateClearanceRecord/".concat(t),method:"get"})}function o(t){return Object(a["a"])({url:"/roadProducts/clearanceRescueCost/getCostCount",method:"POST",data:t})}function u(t){return Object(a["a"])({url:"/roadProducts/clearanceRescue_v1/edit",method:"POST",data:t})}function s(t){return Object(a["a"])({url:"/roadProducts/standardization/edit",method:"PUT",data:t})}function l(t){return Object(a["a"])({url:"/roadProducts/clearanceRescue/cancel/".concat(t.id),method:"patch",data:{cancelReason:t.cancelReason}})}function d(t){return Object(a["a"])({url:"/roadProducts/clearanceRescue/remove?ids="+t,method:"DELETE"})}function m(t){return Object(a["a"])({url:"/roadProducts/clearanceRescue/remove",method:"DELETE",data:t})}function f(t){return Object(a["a"])({url:"/roadProducts/clearanceRescue/list",method:"post",data:t})}function p(t){return Object(a["a"])({url:"/roadProducts/clearanceRescue/query",method:"post",data:t})}function b(t){return Object(a["a"])({url:"/roadProducts/clearanceRescue/shList ",method:"post",data:t})}function h(t){return Object(a["a"])({url:"/roadProducts/clearanceRescue/infoByParentId/".concat(t),method:"get"})}function O(t){return Object(a["a"])({url:"/roadProducts/clearanceRescue/info/".concat(t),method:"get"})}function v(t){return Object(a["a"])({url:"/roadProducts/clearanceRescue/saveClearanceRecord",data:t,method:"post"})}function g(t,e){return Object(a["a"])({url:"/roadProducts/clearanceRescue/".concat(e),method:"post",data:t})}function j(t){return Object(a["a"])({url:"/clearanceRescue/count/getCount",method:"post",data:t})}function y(t){return Object(a["a"])({url:"/roadProducts/invoice/list",method:"post",data:t})}function w(t){return Object(a["a"])({url:"roadProducts/clearanceRescue/updateStatus",method:"post",data:t})}function x(t,e){return Object(a["a"])({url:"/roadProducts/invoice/".concat(e),method:"post",data:t})}function _(t){return Object(a["a"])({url:"/roadProducts/invoice/add",method:"post",data:t})}function C(t){return Object(a["a"])({url:"/roadProducts/invoice/info/".concat(t),method:"get"})}function M(t){return Object(a["a"])({url:"/roadProducts/invoice/edit",method:"post",data:t})}function R(t){return Object(a["a"])({url:"/roadProducts/clearanceRescue/gdList",method:"post",data:t})}function P(t){return Object(a["a"])({url:"/roadProducts/clearanceRescue/edit",method:"post",data:t})}function k(t){return Object(a["a"])({url:"/roadProducts/workOrderReturn/list",method:"post",data:t})}function T(t){return Object(a["a"])({url:"/roadProducts/clearanceRescue/statAnalysis",method:"post",data:t})}function A(t){return Object(a["a"])({url:"/statistics/qz/statTotalList",method:"post",data:t})}function S(t){return Object(a["a"])({url:"/statistics/qz/statRateList",method:"post",data:t})}function N(t){return Object(a["a"])({url:"/statistics/qz/companyStat",method:"post",data:t})}function q(t){return Object(a["a"])({url:"/statistics/qz/trendAnalysis",method:"post",data:t})}},f97e:function(t,e,n){}}]);