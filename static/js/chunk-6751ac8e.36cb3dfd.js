(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6751ac8e","chunk-2d0a49c8"],{"06d0":function(t,e,a){"use strict";a.d(e,"k",(function(){return s})),a.d(e,"f",(function(){return n})),a.d(e,"a",(function(){return c})),a.d(e,"o",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"b",(function(){return l})),a.d(e,"d",(function(){return d})),a.d(e,"m",(function(){return u})),a.d(e,"l",(function(){return f})),a.d(e,"n",(function(){return p})),a.d(e,"e",(function(){return v})),a.d(e,"h",(function(){return m})),a.d(e,"g",(function(){return h})),a.d(e,"i",(function(){return b})),a.d(e,"j",(function(){return _}));var i=a("b775");function s(t){return Object(i["a"])({url:"/roadProducts/tReportAccidentInfo/list",method:"get",params:t})}function n(t){return Object(i["a"])({url:"/roadProducts/tReportAccidentInfo/"+t,method:"get"})}function c(t){return Object(i["a"])({url:"/roadProducts/tReportAccidentInfo",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/roadProducts/tReportAccidentInfo",method:"put",data:t})}function o(t){return Object(i["a"])({url:"/roadProducts/tReportAccidentInfo/"+t,method:"delete"})}function l(t,e){return Object(i["a"])({url:"/roadProducts/tReportClaimInfo/"+e,method:"post",data:t})}function d(t){return Object(i["a"])({url:"/roadProducts/tReportClaimInfo/detail/"+t,method:"get"})}function u(t){return Object(i["a"])({url:"/roadProducts/tReportClaimInfo/docHandler",method:"post",data:t})}function f(t){return Object(i["a"])({url:"/roadProducts/tReportClaimInfo/claimHandleList",method:"post",data:t})}function p(t){return Object(i["a"])({url:"/roadProducts/tReportClaimInfo/updateStatus",method:"post",data:t})}function v(t){return Object(i["a"])({url:"/roadProducts/mainRoadInfo/list",method:"post",data:t})}function m(t){return Object(i["a"])({url:"/roadProducts/mainRoadInfo/listRoadInfoByType",method:"post",data:t})}function h(t){return Object(i["a"])({url:"/roadProducts/tReportClaimInfo/keywordItem?keyword=".concat(t||""),method:"get",data:t})}function b(t){return Object(i["a"])({url:"/roadProducts/attach/listTemplates?type=".concat(t),method:"get",data:t})}function _(t){return Object(i["a"])({url:"/onlyOffice/copy/".concat(t),method:"get"})}},"0981":function(t,e,a){},2:function(t,e){},3:function(t,e){},"340d":function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"e",(function(){return n})),a.d(e,"d",(function(){return c})),a.d(e,"g",(function(){return r})),a.d(e,"m",(function(){return o})),a.d(e,"j",(function(){return l})),a.d(e,"f",(function(){return d})),a.d(e,"b",(function(){return u})),a.d(e,"h",(function(){return f})),a.d(e,"i",(function(){return p})),a.d(e,"k",(function(){return v})),a.d(e,"l",(function(){return m})),a.d(e,"a",(function(){return h}));var i=a("b775");function s(t){return Object(i["a"])({url:"/roadProducts/tReportClaimInfo/getClaimTotalInfo",method:"post",data:t})}function n(t){return Object(i["a"])({url:"/roadProducts/tReportClaimInfo/compensationStatistics",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/roadProducts/tReportClaimInfo/compensationEventHandlingRanking/".concat(t.type),method:"post",data:t})}function r(t){return Object(i["a"])({url:"/roadProducts/tReportClaimInfo/reportClaimList",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/roadProducts/tReportClaimInfo/remove",method:"DELETE",data:t})}function l(t){return Object(i["a"])({url:"/roadProducts/tReportClaimInfo/claimQueryList",method:"post",data:t})}function d(t){return Object(i["a"])({url:"/roadProducts/tReportClaimInfo/detail/".concat(t),method:"get"})}function u(t){return Object(i["a"])({url:"/onlyOffice/edit/".concat(t),method:"get"})}function f(t){return Object(i["a"])({url:"/roadProducts/tReportClaimInfo/query",method:"post",data:t})}function p(t){return Object(i["a"])({url:"/roadProducts/tReportClaimInfo/queryTotal",method:"post",data:t})}function v(t){return Object(i["a"])({url:"/statistics/lp/monthTotalStat",method:"post",data:t})}function m(t){return Object(i["a"])({url:"/statistics/lp/listCompany",method:"post",data:t})}function h(t){return Object(i["a"])({url:"/statistics/lp/submit",method:"put",data:t})}},4:function(t,e){},"4b67":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"com_details"},[a("div",{staticClass:"basic"},[a("div",{staticClass:"title"},[t._v("基本信息：")]),a("div",{staticStyle:{display:"flex","margin-top":"35px"}},[a("div",{staticClass:"tb_item item1"},[a("div",{staticClass:"left"},[t._v("工单编号:")]),a("div",{staticClass:"right",attrs:{title:t.$route.query.id}},[t._v(" "+t._s(t.$route.query.id)+" ")])]),a("div",{staticClass:"tb_item"},[a("div",{staticClass:"left"},[t._v("单位名称:")]),a("div",{staticClass:"right",attrs:{title:t.detailInfo.companyDesc}},[t._v(" "+t._s(t.detailInfo.companyDesc)+" ")])]),a("div",{staticClass:"tb_item"},[a("div",{staticClass:"left"},[t._v("部门名称:")]),a("div",{staticClass:"right",attrs:{title:t.detailInfo.orgDesc}},[t._v(" "+t._s(t.detailInfo.orgDesc)+" ")])]),a("div",{staticClass:"tb_item"},[a("div",{staticClass:"left"},[t._v("记录人:")]),a("div",{staticClass:"right",attrs:{title:t.detailInfo.reporter}},[t._v(" "+t._s(t.detailInfo.reporter)+" ")])]),a("div",{staticClass:"tb_item"},[a("div",{staticClass:"left"},[t._v("工单状态")]),a("div",{staticClass:"right",attrs:{title:t.detailInfo.statusDesc}},[t._v(" "+t._s(t.detailInfo.statusDesc)+" ")])]),a("div",{staticClass:"tb_item"},[a("div",{staticClass:"left"},[t._v("赔补偿总金额")]),a("div",{staticClass:"right right1",attrs:{title:t.detailInfo.totalAmount}},[t._v(" "+t._s(t.detailInfo.totalAmount)+"元 ")])])])]),a("div",{staticClass:"position"},[a("div",{staticClass:"title"},[t._v("事故情况")]),a("div",{staticClass:"container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"span-container"},[a("div",{staticClass:"left"},[t._v("事故类型:")]),a("div",{staticClass:"right",attrs:{title:t.sglx.filter((function(e){return e.dictValue==t.detailInfo.accidentType}))[0]&&t.sglx.filter((function(e){return e.dictValue==t.detailInfo.accidentType}))[0].dictLabel}},[t._v(" "+t._s(t.sglx.filter((function(e){return e.dictValue==t.detailInfo.accidentType}))[0]&&t.sglx.filter((function(e){return e.dictValue==t.detailInfo.accidentType}))[0].dictLabel)+" ")])])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"span-container"},[a("div",{staticClass:"left"},[t._v("事故时间:")]),a("div",{staticClass:"right",attrs:{title:t.detailInfo.accidentTime}},[t._v(" "+t._s(t.detailInfo.accidentTime)+" ")])])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"span-container"},[a("div",{staticClass:"left"},[t._v("赔偿义务人:")]),a("div",{staticClass:"right",attrs:{title:t.detailInfo.driverName}},[t._v(" "+t._s(t.detailInfo.driverName)+" ")])])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"span-container"},[a("div",{staticClass:"left"},[t._v("车辆品牌:")]),a("div",{staticClass:"right",attrs:{title:t.detailInfo.vehicleBrand}},[t._v(" "+t._s(t.detailInfo.vehicleBrand)+" ")])])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"span-container"},[a("div",{staticClass:"left"},[t._v("车辆车型:")]),a("div",{staticClass:"right",attrs:{title:t.detailInfo.vehicleTypeName}},[t._v(" "+t._s(t.detailInfo.vehicleTypeName)+" ")])])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"span-container"},[a("div",{staticClass:"left"},[t._v("车辆牌号:")]),a("div",{staticClass:"right",attrs:{title:t.detailInfo.vehicleNum}},[t._v(" "+t._s(t.detailInfo.vehicleNum)+" ")])])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"span-container"},[a("div",{staticClass:"left"},[t._v("事故路段:")]),a("div",{staticClass:"right",attrs:{title:t.detailInfo.accidentRoad}},[t._v(" "+t._s(t.detailInfo.accidentRoad)+" ")])])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"span-container"},[a("div",{staticClass:"left"},[t._v("位置类型:")]),a("div",{staticClass:"right",attrs:{title:t.sgwz.filter((function(e){return e.dictValue==t.detailInfo.accidentLocationType}))[0]&&t.sgwz.filter((function(e){return e.dictValue==t.detailInfo.accidentLocationType}))[0].dictLabel}},[t._v(" "+t._s(t.sgwz.filter((function(e){return e.dictValue==t.detailInfo.accidentLocationType}))[0]&&t.sgwz.filter((function(e){return e.dictValue==t.detailInfo.accidentLocationType}))[0].dictLabel)+" ")])])]),a("el-col",{attrs:{span:4}},[4==t.detailInfo.accidentLocationType?a("div",{staticClass:"span-container"},[a("div",{staticClass:"left"},[t._v("位置描述:")]),a("div",{staticClass:"right",attrs:{title:t.detailInfo.locationDesc}},[t._v(" "+t._s(t.detailInfo.locationDesc)+" ")])]):t._e()]),a("el-col",{attrs:{span:4}},[3==t.detailInfo.accidentLocationType?a("div",{staticClass:"span-container"},[a("div",{staticClass:"left"},[t._v("所属连接线:")]),a("div",{staticClass:"right",attrs:{title:t.detailInfo.linkDesc}},[t._v(" "+t._s(t.detailInfo.linkDesc)+" ")])]):t._e()]),a("el-col",{attrs:{span:4}},[2==t.detailInfo.accidentLocationType?a("div",{staticClass:"span-container",staticStyle:{display:"flex","align-items":"center"}},[a("div",{staticClass:"left"},[t._v("匝道名称(方向):")]),a("div",{staticClass:"right",attrs:{title:t.detailInfo.rampCode+t.detailInfo.rampDesc}},[t._v(" "+t._s(t.detailInfo.rampCode)+t._s(t.detailInfo.rampDesc)+" ")])]):t._e()]),a("el-col",{attrs:{span:4}},[1==t.detailInfo.accidentLocationType?a("div",{staticClass:"span-container"},[a("div",{staticClass:"left"},[t._v("路段方向:")]),a("div",{staticClass:"right",attrs:{title:t.detailInfo.accidentDir}},[t._v(" "+t._s(t.detailInfo.accidentDir)+" ")])]):t._e()]),2!=t.detailInfo.accidentLocationType?a("el-col",{attrs:{span:4}},[a("div",{staticClass:"span-container"},[a("div",{staticClass:"left"},[t._v("事故位置:")]),a("div",{staticClass:"right"},[t._v(" K"+t._s(t.detailInfo.accidentLocationKm)+"+"+t._s(t.detailInfo.accidentLocationM)+" ")])])]):a("el-col",{attrs:{span:4}},[a("div",{staticClass:"span-container"},[a("div",{staticClass:"left"},[t._v("事故位置:")]),a("div",{staticClass:"right"},[t._v(" "+t._s(t.detailInfo.rampCode)+"K"+t._s(t.detailInfo.accidentLocationKm)+"+"+t._s(t.detailInfo.accidentLocationM)+" ")])])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"span-container"},[a("div",{staticClass:"left"},[t._v("处理人:")]),a("div",{staticClass:"right"},[t._v(" "+t._s(t.detailInfo.handlerDesc)+" ")])])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"span-container"},[a("div",{staticClass:"left"},[t._v("事故描述:")]),a("div",{staticClass:"right",staticStyle:{width:"100%"},attrs:{title:t.detailInfo.accidentDesc}},[t._v(" "+t._s(t.detailInfo.accidentDesc)+" ")])])])],1)],1)]),a("div",{staticClass:"list"},[a("div",{staticClass:"title"},[t._v("路产损失清单")]),a("div",{staticClass:"list-item"},["导入"==t.detailInfo.remark?a("div",{staticClass:"old-system-import"},[a("ul",[t._m(0),a("li",[a("div",{staticClass:"tb_item"},[t._v("导入")]),a("div",{staticClass:"tb_item"},[t._v(t._s(t.detailInfo.oldSystemExt1))]),a("div",{staticClass:"tb_item"},[t._v(" "+t._s(t.detailInfo.claimAmount)+" ")])])])]):a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.detailInfo.lossesInfoList}},[a("el-table-column",{attrs:{prop:"name",align:"center",label:"名字"}}),a("el-table-column",{attrs:{prop:"count",align:"center",label:"数量"}}),a("el-table-column",{attrs:{prop:"unit",align:"center",label:"单位"}}),1==t.detailInfo.accidentLocationType?a("el-table-column",{attrs:{align:"center",label:"位置"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.no))])]}}],null,!1,2630260208)}):t._e(),a("el-table-column",{attrs:{prop:"unitPrice",align:"center",label:"单价（元）"}}),a("el-table-column",{attrs:{prop:"subtotal",align:"center",label:"总价格（元）"}})],1)],1),t.detailInfo.remark?t._e():a("div",{staticClass:"total",staticStyle:{padding:"15px","text-align":"right",width:"80%",margin:"0 auto"}},[t._v(" 总计："+t._s(t.detailInfo.claimAmount)+"（元） ")])]),a("div",{staticClass:"pic"},[a("div",{staticClass:"title"},[t._v("路产损坏照片")]),a("div",{staticClass:"imgList"},t._l(t.detailInfo.picUrlList,(function(e){return a("div",{key:e.id,staticClass:"img_item"},[a("viewer",{attrs:{images:t.detailInfo.picUrlList}},[a("img",{staticStyle:{width:"80px",height:"60px","object-fit":"cover"},attrs:{src:t.imgUrl+e.fileUrl,alt:""}})])],1)})),0)]),a("div",{staticClass:"record"},[a("div",{staticClass:"title"},[t._v("赔补偿记录")]),a("div",{staticStyle:{display:"flex","margin-top":"35px"}},[a("div",{staticClass:"tb_item item1"},[a("div",{staticClass:"left"},[t._v("开始处理时间:")]),a("div",{staticClass:"right"},[t._v(t._s(t.detailInfo.date))])]),a("div",{staticClass:"tb_item"},[a("div",{staticClass:"left"},[t._v("应收金额:")]),a("div",{staticClass:"right"},[t._v(t._s(t.detailInfo.claimAmount)+"元")])]),a("div",{staticClass:"tb_item"},[a("div",{staticClass:"left"},[t._v("实收金额:")]),a("div",{staticClass:"right"},[t._v(t._s(0==t.detailInfo.completionStatus?0:t.detailInfo.receivedAmount)+"元")])]),a("div",{staticClass:"tb_item"},[a("div",{staticClass:"left"},[t._v("未收金额:")]),a("div",{staticClass:"right"},[t._v(t._s(0==t.detailInfo.completionStatus?t.detailInfo.claimAmount:t.detailInfo.unreceivedAmount)+"元")])])]),a("div",{staticStyle:{display:"flex",padding:"25px 0"}},[a("div",{staticClass:"tb_item item1"},[a("div",{staticClass:"left"},[t._v("办结日期:")]),a("div",{staticClass:"right"},[t._v(" "+t._s(t.detailInfo.completionDate)+" ")])]),a("div",{staticClass:"tb_item"},[a("div",{staticClass:"left"},[t._v("办结状态:")]),a("div",{staticClass:"right"},[t._v(" "+t._s(1==t.detailInfo.completionStatus?"已办结":"未办结")+" ")])]),0==t.detailInfo.completionStatus?a("div",{staticClass:"tb_item"},[a("div",{staticClass:"left"},[t._v("未办结原因:")]),a("div",{staticClass:"right"},[t._v(t._s(t.detailInfo.notCompletionReason))])]):t._e()]),a("div",{staticStyle:{display:"flex","padding-bottom":"15px"}},[a("div",{staticClass:"tb_item item1"},[a("div",{staticClass:"left"},[t._v("备注:")]),a("div",{staticClass:"right"},[t._v(" "+t._s(t.detailInfo.remark||"")+" ")])])])]),a("div",{staticClass:"document-list record"},[a("div",{staticClass:"title"},[t._v("赔补偿文书")]),a("el-row",[a("el-col",{staticStyle:{display:"flex","justify-content":"end"},attrs:{span:23}},[a("el-button",{attrs:{type:"primary"},on:{click:t.allDocDownLoad}},[t._v("整体导出已填报文书")])],1)],1),a("div",{staticClass:"table",staticStyle:{padding:"15px"}},[a("vxe-grid",{attrs:{"highlight-hover-row":"",stripe:"",resizable:"","auto-resize":"","max-height":"600",loading:t.table.loading,columns:t.columns,data:t.isOldDocument?t.oldDocumentList:t.documentList},scopedSlots:t._u([{key:"state",fn:function(t){var e=t.row;return[1==e.state?a("i",{staticClass:"el-icon-success",staticStyle:{color:"#a2ef4d","font-size":"20px"}}):a("i",{staticClass:"el-icon-error",staticStyle:{color:"#bc3023","font-size":"20px"}})]}},{key:"fileList",fn:function(e){var i=e.row;return t._l(i.fileList,(function(e){return a("p",{key:e.id,staticStyle:{color:"#1890ff",cursor:"pointer"},on:{click:function(a){return t.handlePreviewDoc(e.id,e.fileUrl,e.fileName)}}},[t._v(" "+t._s(e.fileName)+" ")])}))}},{key:"option",fn:function(e){var i=e.row,s=e.rowIndex;return["dcb"!=i.code?a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.lookUpBook(s)}}},[t._v("查看")]):t._e()]}}])})],1)],1),t.detailInfo.remark?t._e():a("div",{staticClass:"progress"},[a("div",{staticClass:"title"},[t._v("流程进度")]),a("div",{staticStyle:{"margin-top":"20px","margin-left":"58px",padding:"16px"}},[a("el-steps",{attrs:{space:"14%"}},t._l(t.detailInfo.processInfoList,(function(e,i){return a("el-step",{key:i,attrs:{title:e.processType,status:e.status?"finish":""}},[a("template",{slot:"description"},[a("div",[t._v(t._s(e.userName))]),a("div",[t._v(t._s(e.processTime))]),e.systemMsg?a("div",[t._v("系统提示："+t._s(e.systemMsg))]):t._e()])],2)})),1)],1)]),t.detailInfo.auditRecordList&&t.detailInfo.auditRecordList.length>0?a("div",{staticClass:"record"},[a("div",{staticClass:"title"},[t._v("审核记录")]),t._l(t.detailInfo.auditRecordList,(function(e){return a("div",{staticStyle:{display:"flex","margin-top":"35px"}},[a("div",{staticClass:"tb_item item1"},[a("div",{staticClass:"left"},[t._v("时间：")]),a("div",{staticClass:"right",attrs:{title:e.processTime}},[t._v(t._s(e.processTime))])]),a("div",{staticClass:"tb_item"},[a("div",{staticClass:"left"},[t._v("操作人：")]),a("div",{staticClass:"right",attrs:{title:e.userName}},[t._v(t._s(e.userName))])]),a("div",{staticClass:"tb_item"},[a("div",{staticClass:"left"},[t._v("审核状态：")]),a("div",{staticClass:"right",attrs:{title:e.processStatus}},[t._v(t._s(e.processStatus))])]),a("div",{staticClass:"tb_item"},[a("div",{staticClass:"left"},[t._v("审核意见：")]),a("div",{staticClass:"right",attrs:{title:e.systemMsg}},[t._v(t._s(e.systemMsg))])])])}))],2):t._e(),t.fallbackInfoData.length>0?a("div",{staticClass:"record"},[a("div",{staticClass:"title"},[t._v("回退操作记录")]),t._l(t.fallbackInfoData,(function(e){return a("div",{staticStyle:{display:"flex","margin-top":"35px"}},[a("div",{staticClass:"tb_item item1"},[a("div",{staticClass:"left"},[t._v("时间：")]),a("div",{staticClass:"right",attrs:{title:e.updateTime}},[t._v(t._s(e.updateTime))])]),a("div",{staticClass:"tb_item"},[a("div",{staticClass:"left"},[t._v("操作人：")]),a("div",{staticClass:"right",attrs:{title:e.operator}},[t._v(t._s(e.operator))])]),a("div",{staticClass:"tb_item"},[a("div",{staticClass:"left"},[t._v("提交时间：")]),a("div",{staticClass:"right",attrs:{title:e.createTime}},[t._v(t._s(e.createTime))])]),a("div",{staticClass:"tb_item"},[a("div",{staticClass:"left"},[t._v("回退原因：")]),a("div",{staticClass:"right",attrs:{title:e.returnReason}},[t._v(t._s(e.returnReason))])])])}))],2):t._e(),t.isApproveInfo?a("div",{staticClass:"check"},[a("div",{staticClass:"title"},[t._v("工单审核")]),a("el-form",{staticStyle:{"margin-top":"40px"},attrs:{"label-width":"80px",model:t.ruleForm}},[t.isApprove?a("el-form-item",{attrs:{label:"审核结果"}},[a("el-button",{attrs:{type:4==t.ruleForm.status?"warning":""},on:{click:function(e){return t.setBtnStatus(4)}}},[t._v("通过")]),a("el-button",{attrs:{type:1==t.ruleForm.status?"warning":""},on:{click:function(e){return t.setBtnStatus(1)}}},[t._v("不通过")])],1):a("el-form-item",{attrs:{label:"审核结果"}},[t._v(" "+t._s(t.detailInfo.approvalResult)+" ")]),a("el-form-item",{attrs:{label:"审核意见"}},[t.isApprove?a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:4},placeholder:"请输入内容"},model:{value:t.ruleForm.remark,callback:function(e){t.$set(t.ruleForm,"remark",e)},expression:"ruleForm.remark"}}):a("span",[t._v(t._s(t.detailInfo.approvalOpinion))])],1)],1)],1):t._e(),a("div",{staticClass:"btn"},[t.isApprove?a("el-button",{attrs:{type:"primary"},on:{click:t.setUp}},[t._v("提交")]):t._e(),a("el-button",{on:{click:t.goBack}},[t._v("返回")])],1)]),a("el-dialog",{attrs:{title:t.fileObj.name,visible:t.perviewFile,width:"50vw"},on:{"update:visible":function(e){t.perviewFile=e}}},[a("div",{staticStyle:{"text-align":"center","margin-bottom":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.downloadFn}},[t._v(" 下载 ")]),"pdf"==t.fileUrl.split(".")[1]?a("el-button",{attrs:{type:"primary"},on:{click:t.pdfPrintAll}},[t._v(" 打印 ")]):a("el-button",{directives:[{name:"print",rawName:"v-print",value:t.print,expression:"print"}],attrs:{type:"primary"}},[t._v(" 打印 ")]),"pdf"==t.fileUrl.split(".")[1]?a("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left",size:"mini"},on:{click:t.prePage}},[t._v("上一页")]):t._e(),"pdf"==t.fileUrl.split(".")[1]?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.nextPage}},[t._v("下一页"),a("i",{staticClass:"el-icon-arrow-right el-icon--right"})]):t._e(),"pdf"==t.fileUrl.split(".")[1]?a("el-button",{staticClass:"mr10",attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.clock(e)}}},[t._v(" 顺时针")]):t._e(),"pdf"==t.fileUrl.split(".")[1]?a("el-button",{staticClass:"mr10",attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.counterClock(e)}}},[t._v(" 逆时针")]):t._e(),"pdf"==t.fileUrl.split(".")[1]?a("el-button",{attrs:{type:"primary"},on:{click:t.zoomIn}},[t._v("放大")]):t._e(),"pdf"==t.fileUrl.split(".")[1]?a("el-button",{attrs:{type:"primary"},on:{click:t.zoomOut}},[t._v("缩小")]):t._e(),"pdf"==t.fileUrl.split(".")[1]?a("div",{staticStyle:{"margin-top":"10px",color:"#409EFF"}},[t._v(t._s(t.pageNum)+" / "+t._s(t.pageTotalNum)+" ")]):t._e()],1),a("div",{ref:"scrollContainer",style:{height:"70vh",overflow:"auto"},on:{scroll:t.handleScroll}},[["docx","doc"].includes(t.fileUrl.split(".")[1])?a("vue-office-docx",{ref:"wordContent",staticStyle:{height:"auto"},attrs:{id:"print-hz",src:t.fileUrl}}):t._e(),"xlsx"==t.fileUrl.split(".")[1]?a("vue-office-excel",{staticStyle:{height:"100%"},attrs:{id:"print-hz",src:t.fileUrl}}):t._e(),"pdf"==t.fileUrl.split(".")[1]?a("pdf",{ref:"pdf",style:{transform:"scale("+t.pdfscale+")"},attrs:{id:"print-hz",page:t.pageNum,rotate:t.pageRotate,src:t.fileUrl},on:{"num-pages":function(e){t.pageTotalNum=e}}}):t._e(),["jpg","jpeg","png"].includes(t.fileUrl.split(".")[1])?a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[a("el-image",{staticStyle:{width:"400px",height:"400px"},attrs:{src:t.fileUrl,"preview-src-list":[t.fileUrl]}})],1):t._e()],1)])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("div",{staticClass:"tb_item"},[t._v("来源")]),a("div",{staticClass:"tb_item"},[t._v("清单内容")]),a("div",{staticClass:"tb_item"},[t._v("总计")])])}],n=a("c7eb"),c=a("1da1"),r=(a("99af"),a("d81d"),a("14d9"),a("b0c0"),a("a9e3"),a("d3b7"),a("3ca3"),a("ddb0"),a("06d0")),o=a("340d"),l=a("2934"),d=a("b775"),u=a("e432"),f=a("e984"),p=a("2d46"),v=a.n(p),m=(a("d457"),a("b690")),h=a.n(m),b=(a("2c3a"),a("858e")),_={components:{VueOfficeDocx:v.a,VueOfficeExcel:h.a,pdf:b["a"]},data:function(){return{isOldDocument:!0,fileObj:{id:null,name:null},fileUrl:"",print:{id:"print-hz"},pdfscale:1,pageNum:1,pageTotalNum:1,pageRotate:0,perviewFile:!1,fallbackInfoData:[],status:"",handlerList:[],sglx:[],sgwz:[],isApprove:!1,isApproveInfo:!1,ruleForm:{status:4,remark:""},detailInfo:{},attachDocList:[],imgUrl:"/prod-api",documentList:[{code:"kyjl",label:"高速公路路产赔（补）偿事件现场勘查记录",state:0},{code:"tzs",label:"高速公路路产赔（补）偿通知书",state:0},{code:"zfyj",label:"赔偿义务人身份证及车辆证件照片",state:0},{code:"xczp",label:"高速公路事件现场照片",state:0},{code:"pjfyj",label:"高速公路路产赔（补）偿缴费票据复印件",state:0},{code:"pcxy",label:"高速公路路产赔偿协议",state:0},{code:"dcb",label:"高速公路路产损坏调查表",state:1}],oldDocumentList:[{code:"kybg",label:"高速公路赔（补）偿事件现场勘察报告",state:0},{code:"kcpmt",label:"高速公路现场勘察平面图",state:0},{code:"tzs",label:"高速公路赔（补）偿通知书",state:0},{code:"tzs_cg",label:"高速公路赔（补）偿通知书（存根）",state:0},{code:"fyj",label:"高速公路驾驶证行车证复印件",state:0},{code:"zp",label:"高速公路事件现场照片",state:0},{code:"pjfyj",label:"高速公路票据复印件",state:0},{code:"hz",label:"高速公路赔（补）偿通知书送达回证",state:0},{code:"jabg",label:"高速公路赔（补）偿事件办结报告",state:0},{code:"pcxy",label:"高速公路路产赔（补）偿协议",state:0},{code:"dcb",label:"高速公路路产损坏调查表",state:1}],table:{loading:!1,page:{total:0,currentPage:1,pageSize:10,align:"left",pageSizes:[10,20,50],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0},datas:[]},columns:[{type:"seq",title:"序号",align:"center"},{title:"文书标题",field:"label",align:"center"},{title:"状态",slots:{default:"state"},align:"center"},{title:"附件",slots:{default:"fileList"},align:"center"},{title:"操作",slots:{default:"option"},align:"center"}]}},created:function(){this.getCdList(),this.getHandleUser(),this.isApproveInfo=this.$route.query.isApproveInfo,this.$route.query.approve&&(this.isApprove=this.$route.query.approve)},mounted:function(){this.getData()},methods:{handleScroll:function(t){if("pdf"==this.fileUrl.split(".")[1]){if(0===t.target.scrollTop&&this.pageNum>1){this.pageNum=this.pageNum-1;var e=this.$refs.scrollContainer;e.scrollTo(0,50)}if(!(this.pageNum>=this.pageTotalNum)){var a=Math.abs(t.target.scrollHeight-t.target.scrollTop-t.target.clientHeight)<=1;if(a){this.pageNum=this.pageNum+1;var i=this.$refs.scrollContainer;i.scrollTo(0,50)}}}},pdfPrintAll:function(){var t=this;"pdf"==this.fileUrl.split(".")[1]&&this.$nextTick((function(){t.$refs.pdf.print()}))},zoomIn:function(){this.pdfscale>1.7||(this.pdfscale+=.1)},zoomOut:function(){this.pdfscale<.7||(this.pdfscale-=.1)},clock:function(){this.pageRotate+=90},counterClock:function(){this.pageRotate-=90},prePage:function(){var t=this.pageNum;t=t>1?t-1:this.pageTotalNum,this.pageNum=t},nextPage:function(){var t=this.pageNum;t=t<this.pageTotalNum?t+1:1,this.pageNum=t},handlePreviewDoc:function(t,e,a){this.fileObj.id=t,this.fileObj.name=a,this.fileUrl="/prod-api"+e,this.pdfscale=1,this.perviewFile=!0,this.pageNum=1},allDocDownLoad:function(){var t=this.isOldDocument?"/roadProducts/pbcDocData/downloadAll/".concat(this.$route.query.id):"/roadProducts/roadDoc/downloadAll/".concat(this.$route.query.id);Object(d["b"])(t,{},"赔补偿.zip")},downloadFn:function(){this.downloadGet("/roadProducts/attach/download/count/".concat(this.fileObj.id),this.fileObj.name)},getHandleUser:function(){var t=this;return Object(c["a"])(Object(n["a"])().mark((function e(){var a,i;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$store.getters.userInfo,e.next=3,Object(l["q"])({deptId:a.dept.deptId,pageNum:1});case 3:i=e.sent,t.handlerList=i.rows;case 5:case"end":return e.stop()}}),e)})))()},getCdList:function(){var t=this;return Object(c["a"])(Object(n["a"])().mark((function e(){var a,i;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["k"])({dictType:"accident_type"});case 2:return a=e.sent,t.sglx=a.rows,e.next=6,Object(l["k"])({dictType:"accident_location_type"});case 6:i=e.sent,t.sgwz=i.rows;case 8:case"end":return e.stop()}}),e)})))()},getData:function(){var t=this;return Object(c["a"])(Object(n["a"])().mark((function e(){var a,i,s,c,r,l,d,p,v,m,h,b,_,g;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.attachDocList=[],i=t.$route.query.id,e.next=4,Object(o["f"])(i);case 4:return s=e.sent,t.detailInfo=s.data,s.data.createTime&&(c=new Date("2024-05-06 00:00:00").getTime(),r=new Date(s.data.createTime).getTime(),t.isOldDocument=r<=c),e.next=9,Object(f["m"])({businessId:t.detailInfo.businessId,businessType:"LP"});case 9:if(l=e.sent,t.fallbackInfoData=l.data,t.status=s.data.status,d=t.isOldDocument?t.oldDocumentList:t.documentList,!s.data.doc){e.next=25;break}p=s.data.doc,t.isOldDocument&&(p.kcbg=p.kcbg.concat(p.new_kyjl),p.pcxy=p.pcxy.concat(p.new_pcxy),p.pjfyj=p.pjfyj.concat(p.new_pjfyj),p.tzs=p.tzs.concat(p.new_tzs),p.zp=p.zp.concat(p.new_xczp),p.fyj=p.fyj.concat(p.new_zfyj)),p.kybg=p.kcbg,t.isOldDocument||(p.kyjl=p.new_kyjl,p.pcxy=p.new_pcxy,p.pjfyj=p.new_pjfyj,p.tzs=p.new_tzs,p.xczp=p.new_xczp,p.zfyj=p.new_zfyj),v=Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:d.map((function(t){t.code==e&&p[e].length>0&&(t.state=1,t.fileList=p[e])}));case 1:case"end":return t.stop()}}),t)})),e.t0=Object(n["a"])().keys(p);case 20:if((e.t1=e.t0()).done){e.next=25;break}return m=e.t1.value,e.delegateYield(v(m),"t2",23);case 23:e.next=20;break;case 25:if(!t.isOldDocument){e.next=31;break}return e.next=28,Object(u["d"])(i);case 28:e.t3=e.sent,e.next=34;break;case 31:return e.next=33,Object(u["c"])(i);case 33:e.t3=e.sent;case 34:h=e.t3,b=h.data,_=Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:b[e]&&d.map((function(t){t.code==e&&(t.state=1),"zfyj"==e&&"fyj"==t.code&&(t.state=1)}));case 1:case"end":return t.stop()}}),t)})),e.t4=Object(n["a"])().keys(b);case 38:if((e.t5=e.t4()).done){e.next=43;break}return g=e.t5.value,e.delegateYield(_(g),"t6",41);case 41:e.next=38;break;case 43:(null===(a=t.detailInfo)||void 0===a||null===(a=a.lossesInfoList)||void 0===a?void 0:a.length)>0&&(d[d.length-1].state=1);case 44:case"end":return e.stop()}}),e)})))()},setFiles:function(t){for(var e=0;e<t.length;e++)this.attachDocList.push(t[e])},setBtnStatus:function(t){this.isApprove&&(this.ruleForm.status=t)},setUp:function(){var t=this,e="";switch(this.ruleForm.status){case 4:e="通过";break;case 1:e="不通过";break;case 5:e="终止";break;case 7:e="忽略";break}this.$confirm("确认".concat(e,"审核吗?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.ruleForm.businessId=t.$route.query.id,Object(r["n"])(t.ruleForm).then((function(e){var a=e.code,i=e.msg;200==a&&(t.$message({message:i,type:"success"}),t.goBack())})).catch((function(t){}))})).catch((function(){}))},goBack:function(){this.$router.go(-1)},handlePreview:function(t){return Object(c["a"])(Object(n["a"])().mark((function e(){var a,i;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["D"])(t.id,"view");case 2:a=e.sent,window.localStorage.removeItem("viewHTML"),window.localStorage.setItem("viewHTML",a),i=window.open("","_blank"),i.document.write(localStorage.getItem("viewHTML")),i.document.close();case 8:case"end":return e.stop()}}),e)})))()},download:function(t){var e=this;return Object(c["a"])(Object(n["a"])().mark((function a(){return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.downloadGet("/roadProducts/attach/download/count/".concat(t.id),t.fileName),e.$set(t,"downloadCount",Number(t.downloadCount)+1);case 2:case"end":return a.stop()}}),a)})))()},lookUpBook:function(t){var e=this.isOldDocument?"/compensationManagement/oldFileUpload":"/compensationManagement/compensationFileUpload";this.$router.push({path:"".concat(e,"?id=").concat(this.$route.query.id),query:{activeIndex:t,type:this.isOldDocument?"old":void 0}})}}},g=_,C=(a("6636"),a("2877")),y=Object(C["a"])(g,i,s,!1,null,"77184f15",null);e["default"]=y.exports},5:function(t,e){},6:function(t,e){},6636:function(t,e,a){"use strict";a("0981")},7:function(t,e){},e432:function(t,e,a){"use strict";a.d(e,"e",(function(){return s})),a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return c})),a.d(e,"d",(function(){return r})),a.d(e,"a",(function(){return o}));a("99af");var i=a("b775");function s(t,e,a){return Object(i["a"])({url:"/roadProducts/pbcDocData/saveDoc/".concat(t,"/").concat(e),method:"post",data:a})}function n(t,e){return Object(i["a"])({url:"/roadProducts/pbcDocData/docDetails/".concat(t,"/").concat(e),method:"get"})}function c(t){return Object(i["a"])({url:"/roadProducts/roadDoc/getAll/".concat(t),method:"get"})}function r(t){return Object(i["a"])({url:"/roadProducts/pbcDocData/getAll/".concat(t),method:"get"})}function o(t,e,a){return Object(i["a"])({url:"/roadProducts/pbcDocData/filling/".concat(t,"/").concat(e),method:"post",data:a})}},e984:function(t,e,a){"use strict";a.d(e,"s",(function(){return s})),a.d(e,"D",(function(){return n})),a.d(e,"n",(function(){return c})),a.d(e,"t",(function(){return r})),a.d(e,"g",(function(){return o})),a.d(e,"j",(function(){return l})),a.d(e,"c",(function(){return d})),a.d(e,"h",(function(){return u})),a.d(e,"i",(function(){return f})),a.d(e,"p",(function(){return p})),a.d(e,"q",(function(){return v})),a.d(e,"r",(function(){return m})),a.d(e,"u",(function(){return h})),a.d(e,"v",(function(){return b})),a.d(e,"e",(function(){return _})),a.d(e,"a",(function(){return g})),a.d(e,"A",(function(){return C})),a.d(e,"w",(function(){return y})),a.d(e,"E",(function(){return j})),a.d(e,"d",(function(){return I})),a.d(e,"b",(function(){return O})),a.d(e,"z",(function(){return w})),a.d(e,"l",(function(){return x})),a.d(e,"y",(function(){return k})),a.d(e,"k",(function(){return P})),a.d(e,"m",(function(){return D})),a.d(e,"B",(function(){return R})),a.d(e,"f",(function(){return T})),a.d(e,"o",(function(){return L})),a.d(e,"x",(function(){return z})),a.d(e,"C",(function(){return S}));var i=a("b775");function s(){return Object(i["a"])({url:"/system/dept/list?type=1&isFilter=false",method:"get"})}function n(t){return Object(i["a"])({url:"/roadProducts/clearanceRescue/updateData",method:"PUT",data:t})}function c(t){return Object(i["a"])({url:"/roadProducts/clearanceRescue/generateClearanceRecord/".concat(t),method:"get"})}function r(t){return Object(i["a"])({url:"/roadProducts/clearanceRescueCost/getCostCount",method:"POST",data:t})}function o(t){return Object(i["a"])({url:"/roadProducts/clearanceRescue_v1/edit",method:"POST",data:t})}function l(t){return Object(i["a"])({url:"/roadProducts/standardization/edit",method:"PUT",data:t})}function d(t){return Object(i["a"])({url:"/roadProducts/clearanceRescue/cancel/".concat(t.id),method:"patch",data:{cancelReason:t.cancelReason}})}function u(t){return Object(i["a"])({url:"/roadProducts/clearanceRescue/remove?ids="+t,method:"DELETE"})}function f(t){return Object(i["a"])({url:"/roadProducts/clearanceRescue/remove",method:"DELETE",data:t})}function p(t){return Object(i["a"])({url:"/roadProducts/clearanceRescue/list",method:"post",data:t})}function v(t){return Object(i["a"])({url:"/roadProducts/clearanceRescue/query",method:"post",data:t})}function m(t){return Object(i["a"])({url:"/roadProducts/clearanceRescue/shList ",method:"post",data:t})}function h(t){return Object(i["a"])({url:"/roadProducts/clearanceRescue/infoByParentId/".concat(t),method:"get"})}function b(t){return Object(i["a"])({url:"/roadProducts/clearanceRescue/info/".concat(t),method:"get"})}function _(t){return Object(i["a"])({url:"/roadProducts/clearanceRescue/saveClearanceRecord",data:t,method:"post"})}function g(t,e){return Object(i["a"])({url:"/roadProducts/clearanceRescue/".concat(e),method:"post",data:t})}function C(t){return Object(i["a"])({url:"/clearanceRescue/count/getCount",method:"post",data:t})}function y(t){return Object(i["a"])({url:"/roadProducts/invoice/list",method:"post",data:t})}function j(t){return Object(i["a"])({url:"roadProducts/clearanceRescue/updateStatus",method:"post",data:t})}function I(t,e){return Object(i["a"])({url:"/roadProducts/invoice/".concat(e),method:"post",data:t})}function O(t){return Object(i["a"])({url:"/roadProducts/invoice/add",method:"post",data:t})}function w(t){return Object(i["a"])({url:"/roadProducts/invoice/info/".concat(t),method:"get"})}function x(t){return Object(i["a"])({url:"/roadProducts/invoice/edit",method:"post",data:t})}function k(t){return Object(i["a"])({url:"/roadProducts/clearanceRescue/gdList",method:"post",data:t})}function P(t){return Object(i["a"])({url:"/roadProducts/clearanceRescue/edit",method:"post",data:t})}function D(t){return Object(i["a"])({url:"/roadProducts/workOrderReturn/list",method:"post",data:t})}function R(t){return Object(i["a"])({url:"/roadProducts/clearanceRescue/statAnalysis",method:"post",data:t})}function T(t){return Object(i["a"])({url:"/statistics/qz/statTotalList",method:"post",data:t})}function L(t){return Object(i["a"])({url:"/statistics/qz/statRateList",method:"post",data:t})}function z(t){return Object(i["a"])({url:"/statistics/qz/companyStat",method:"post",data:t})}function S(t){return Object(i["a"])({url:"/statistics/qz/trendAnalysis",method:"post",data:t})}}}]);