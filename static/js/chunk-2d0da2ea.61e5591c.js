(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0da2ea"],{"6b08":function(e,n,t){"use strict";t.r(n);var o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"app-container"},[t("el-form",{ref:"queryForm",attrs:{model:e.LoginqueryParams,size:"small",inline:!0,"label-width":"68px"}},[t("el-form-item",{attrs:{label:"登录地址",prop:"ipaddr"}},[t("el-input",{attrs:{placeholder:"请输入登录地址",clearable:""},nativeOn:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.handleLoginQuery(n)}},model:{value:e.LoginqueryParams.ipaddr,callback:function(n){e.$set(e.LoginqueryParams,"ipaddr",n)},expression:"LoginqueryParams.ipaddr"}})],1),t("el-form-item",{attrs:{label:"用户账号",prop:"userName"}},[t("el-input",{attrs:{placeholder:"请输入用户账号",clearable:""},nativeOn:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.handleLoginQuery(n)}},model:{value:e.LoginqueryParams.userName,callback:function(n){e.$set(e.LoginqueryParams,"userName",n)},expression:"LoginqueryParams.userName"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleLoginQuery}},[e._v("搜索")]),t("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.LoginLoading,expression:"LoginLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list.slice((e.LoginpageNum-1)*e.LoginpageSize,e.LoginpageNum*e.LoginpageSize)}},[t("el-table-column",{attrs:{label:"序号",type:"index",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("span",[e._v(e._s((e.LoginpageNum-1)*e.LoginpageSize+n.$index+1))])]}}])}),t("el-table-column",{attrs:{label:"会话编号",align:"center",prop:"tokenId","show-overflow-tooltip":!0}}),t("el-table-column",{attrs:{label:"登录名称",align:"center",prop:"userName","show-overflow-tooltip":!0}}),t("el-table-column",{attrs:{label:"部门名称",align:"center",prop:"deptName"}}),t("el-table-column",{attrs:{label:"主机",align:"center",prop:"ipaddr","show-overflow-tooltip":!0}}),t("el-table-column",{attrs:{label:"登录地点",align:"center",prop:"loginLocation","show-overflow-tooltip":!0}}),t("el-table-column",{attrs:{label:"浏览器",align:"center",prop:"browser"}}),t("el-table-column",{attrs:{label:"操作系统",align:"center",prop:"os"}}),t("el-table-column",{attrs:{label:"登录时间",align:"center",prop:"loginTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("span",[e._v(e._s(e.parseTime(n.row.loginTime)))])]}}])}),t("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["monitor:online:forceLogout"],expression:"['monitor:online:forceLogout']"}],attrs:{size:"small",type:"primary",icon:"el-icon-delete"},on:{click:function(t){return e.handleForceLogout(n.row)}}},[e._v("强退")])]}}])})],1),t("pagination",{directives:[{name:"show",rawName:"v-show",value:e.Logintotal>0,expression:"Logintotal>0"}],attrs:{total:e.Logintotal,page:e.LoginpageNum,limit:e.LoginpageSize},on:{"update:page":function(n){e.LoginpageNum=n},"update:limit":function(n){e.LoginpageSize=n}}})],1)},i=[],a=t("b775");function l(e){return Object(a["a"])({url:"/monitor/online/list",method:"get",params:e})}function r(e){return Object(a["a"])({url:"/monitor/online/"+e,method:"delete"})}var s={name:"Online",data:function(){return{LoginLoading:!0,Logintotal:0,list:[],LoginpageNum:1,LoginpageSize:10,LoginqueryParams:{ipaddr:void 0,userName:void 0}}},created:function(){this.getLoginList()},methods:{getLoginList:function(){var e=this;this.LoginLoading=!0,l(this.LoginqueryParams).then((function(n){e.list=n.rows,e.Logintotal=n.total,e.LoginLoading=!1}))},handleLoginQuery:function(){this.LoginpageNum=1,this.getLoginList()},resetQuery:function(){this.resetForm("queryForm"),this.handleLoginQuery()},handleForceLogout:function(e){var n=this;this.$modal.confirm('是否确认强退名称为"'+e.userName+'"的用户？').then((function(){return r(e.tokenId)})).then((function(){n.getLoginList(),n.$modal.msgSuccess("强退成功")})).catch((function(){}))}}},u=s,c=t("2877"),g=Object(c["a"])(u,o,i,!1,null,null,null);n["default"]=g.exports}}]);