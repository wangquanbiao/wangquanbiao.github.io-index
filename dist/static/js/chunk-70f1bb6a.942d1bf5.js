(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70f1bb6a"],{a370:function(e,t,o){},a52d:function(e,t,o){"use strict";o("a370")},c5da:function(e,t,o){"use strict";o.d(t,"p",(function(){return n})),o.d(t,"c",(function(){return r})),o.d(t,"i",(function(){return l})),o.d(t,"h",(function(){return i})),o.d(t,"a",(function(){return s})),o.d(t,"b",(function(){return c})),o.d(t,"t",(function(){return u})),o.d(t,"s",(function(){return d})),o.d(t,"q",(function(){return m})),o.d(t,"r",(function(){return p})),o.d(t,"j",(function(){return f})),o.d(t,"m",(function(){return b})),o.d(t,"o",(function(){return h})),o.d(t,"d",(function(){return v})),o.d(t,"g",(function(){return w})),o.d(t,"k",(function(){return g})),o.d(t,"l",(function(){return I})),o.d(t,"u",(function(){return y})),o.d(t,"n",(function(){return N})),o.d(t,"e",(function(){return k})),o.d(t,"v",(function(){return O})),o.d(t,"f",(function(){return L}));o("99af");var a=o("b775");function n(e){return Object(a["a"])({url:"/roadProducts/roadType/roadTypeTree",method:"post",data:e})}function r(e){return Object(a["a"])({url:"/system/dept/getInfoByCompanyId/".concat(e),method:"get"})}function l(e){var t=e.pageNum,o=void 0===t?1:t,n=e.pageSize,r=void 0===n?10:n;return delete e.pageNum,delete e.pageSize,Object(a["a"])({url:"/roadProducts/employee/page?pageSize=".concat(r,"&pageNum=").concat(o),method:"post",data:e})}function i(e){return Object(a["a"])({url:"/roadProducts/employee/".concat(e.id),method:"get",params:e})}function s(e,t){return Object(a["a"])({url:"/roadProducts/employee",method:t,data:e})}function c(e){return Object(a["a"])({url:"/roadProducts/employee/".concat(e),method:"DELETE"})}function u(e){return Object(a["a"])({url:"/roadProducts/tVehicleInfo/list",method:"post",data:e})}function d(e){return Object(a["a"])({url:"/roadProducts/tVehicleInfo/info/"+e,method:"get"})}function m(e,t,o){return Object(a["a"])({url:"/roadProducts/tVehicleInfo/"+t,method:o,data:e})}function p(e){return Object(a["a"])({url:"/roadProducts/tVehicleInfo/remove/"+e,method:"delete"})}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(a["a"])({url:"/system/user/"+e,method:"get"})}function b(e){return Object(a["a"])({url:"/orgManager/count/companyOperationsCount",method:"post",data:e})}function h(e){return Object(a["a"])({url:"/orgManager/count/roadSituationCount",method:"post",data:e})}function v(e){return Object(a["a"])({url:"/roadProducts/mainRoadInfo/getRoadList",method:"post",data:e})}function w(e){return Object(a["a"])({url:"/orgManager/count/updList",method:"post",data:e})}function g(e){return Object(a["a"])({url:"/orgManager/count/getAllRoadInfo",method:"get",params:e})}function I(e){var t=e?e.companyType:"";return Object(a["a"])({url:"/orgManager/count/getAllRoadSourceInfos?companyType=".concat(t),method:"get"})}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["a"])({url:"/orgManager/count/getVehicleTotalInfos",method:"post",data:e})}function N(e){return Object(a["a"])({url:"/roadProducts/tReportRoadInfo/getPatrolTimesNameList",method:"get",params:e})}function k(e){return Object(a["a"])({url:"/orgManager/count/statDept",method:"post",data:e})}function O(e){return Object(a["a"])({url:"/orgManager/count/updateDept",method:"post",data:e})}function L(e){var t=e?e.companyType:"";return Object(a["a"])({url:"/orgManager/count/statPerson?companyType=".concat(t),method:"get",data:e})}},dd21:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"r_pages"},[o("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[o("el-collapse-item",{attrs:{title:"基本信息",name:"1"}},[o("el-form",{ref:"ruleForm",attrs:{"label-width":"120px",model:e.formInline}},[o("el-row",[o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"单位名称："}},[o("el-input",{attrs:{disabled:"",placeholder:"请输入"},model:{value:e.formInline.companyName,callback:function(t){e.$set(e.formInline,"companyName",t)},expression:"formInline.companyName"}})],1)],1),o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"分管领导："}},[o("el-input",{attrs:{disabled:"",placeholder:"请输入"},model:{value:e.formInline.companyLeader,callback:function(t){e.$set(e.formInline,"companyLeader",t)},expression:"formInline.companyLeader"}})],1)],1),o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"联系方式："}},[o("el-input",{attrs:{disabled:"",placeholder:"请输入"},model:{value:e.formInline.companyLeaderPhone,callback:function(t){e.$set(e.formInline,"companyLeaderPhone",t)},expression:"formInline.companyLeaderPhone"}})],1)],1)],1),o("el-row",[o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"路产保护大队："}},[o("el-input",{attrs:{disabled:"",placeholder:"请输入"},model:{value:e.formInline.deptName,callback:function(t){e.$set(e.formInline,"deptName",t)},expression:"formInline.deptName"}})],1)],1),o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"大队长："}},[o("el-input",{attrs:{disabled:"",placeholder:"请输入"},model:{value:e.formInline.deptLeader,callback:function(t){e.$set(e.formInline,"deptLeader",t)},expression:"formInline.deptLeader"}})],1)],1),o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"联系方式："}},[o("el-input",{attrs:{disabled:"",placeholder:"请输入"},model:{value:e.formInline.deptLeaderPhone,callback:function(t){e.$set(e.formInline,"deptLeaderPhone",t)},expression:"formInline.deptLeaderPhone"}})],1)],1)],1),o("el-row",[o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"办公驻地："}},[o("el-input",{attrs:{disabled:"",placeholder:"请输入"},model:{value:e.formInline.location,callback:function(t){e.$set(e.formInline,"location",t)},expression:"formInline.location"}})],1)],1),o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"所辖中队数："}},[o("el-input",{attrs:{disabled:"",placeholder:"请输入"},model:{value:e.formInline.subDeptNumber,callback:function(t){e.$set(e.formInline,"subDeptNumber",t)},expression:"formInline.subDeptNumber"}})],1)],1),o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"所辖人员数："}},[o("el-input",{attrs:{disabled:"",placeholder:"请输入"},model:{value:e.formInline.subPersonTotal,callback:function(t){e.$set(e.formInline,"subPersonTotal",t)},expression:"formInline.subPersonTotal"}})],1)],1)],1),o("el-row",[o("el-form-item",{attrs:{label:"备注："}},[o("el-input",{attrs:{disabled:"",type:"textarea",autosize:{minRows:4,maxRows:4}},model:{value:e.formInline.remark,callback:function(t){e.$set(e.formInline,"remark",t)},expression:"formInline.remark"}})],1)],1)],1)],1),o("el-collapse-item",{attrs:{title:"中队概览",name:"2"}},[o("el-row",[o("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus,expression:"!editStatus"}],attrs:{type:"primary"},on:{click:e.setEditFrom}},[e._v(" 编辑 ")]),o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.editStatus,expression:"editStatus"}],attrs:{type:"primary"},on:{click:e.setSaveForm}},[e._v(" 保存 ")])],1),o("br"),o("el-radio-group",{directives:[{name:"show",rawName:"v-show",value:e.isShowTabs,expression:"isShowTabs"}],staticStyle:{"margin-bottom":"30px"},model:{value:e.tabPosition,callback:function(t){e.tabPosition=t},expression:"tabPosition"}},[o("el-radio-button",{attrs:{label:"101"}},[e._v("巡查队")]),o("el-radio-button",{attrs:{label:"102"}},[e._v("清障队")])],1),o("el-table",{attrs:{data:e.tableData,border:"","row-key":"id","header-cell-style":{background:"#eef6fa",color:"#000"},"span-method":e.objectSpanMethod}},[o("el-table-column",{attrs:{prop:"orgDesc",label:"所辖中队"}}),o("el-table-column",{attrs:{prop:"location",label:"办公驻地"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus,expression:"!editStatus"}]},[e._v(" "+e._s(t.row.location)+" ")]),o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editStatus,expression:"editStatus"}],on:{blur:function(o){return e.setFocus(t.row)}},model:{value:t.row.location,callback:function(o){e.$set(t.row,"location",o)},expression:"scope.row.location"}})]}}])}),o("el-table-column",{attrs:{prop:"midUserName",label:"中队长","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"phone",label:"联系方式","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"roadDesc",label:"管辖路线编号及名称","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e.renLX(t.row.roadCode,t.row.roadDesc)))])]}}])}),o("el-table-column",{attrs:{prop:"startLocationDesc",label:"管辖起点名称","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"startLineKmLevel",label:"管辖起点桩号","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e.renZH(t.row.startLineKmLevel,t.row.startLineMLevel)))])]}}])}),o("el-table-column",{attrs:{prop:"startLineKmLevel",label:"管辖终点桩号","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e.renZH(t.row.endLineKmLevel,t.row.endLineMLevel)))])]}}])}),o("el-table-column",{attrs:{prop:"sumManagerRoadDistance",label:"管辖总里程(km)","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"mainRoadDistance",label:"主线里程(km)","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"rampLineDistance",label:"匝道、连接线里程(km)","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"deptPersonCount",label:"人员数量","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.deptPersonCount))])]}}])}),o("el-table-column",{attrs:{prop:"deptVehicleCount",label:"车辆数量","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{prop:"remark",label:"备注","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",{directives:[{name:"show",rawName:"v-show",value:!e.editStatus,expression:"!editStatus"}]},[e._v(" "+e._s(t.row.remark)+" ")]),o("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editStatus,expression:"editStatus"}],model:{value:t.row.remark,callback:function(o){e.$set(t.row,"remark",o)},expression:"scope.row.remark"}})]}}])})],1)],1)],1)],1)},n=[],r=o("5530"),l=o("c7eb"),i=o("1da1"),s=(o("4de4"),o("d81d"),o("14d9"),o("d3b7"),o("2934"),o("c5da")),c={components:{},props:{currentData:{type:Object,default:function(){return{}}}},watch:{currentData:{handler:function(e,t){this.crow=e,this.tabPosition="",this.initData(),this.getData()},immediate:!0}},name:"unitDetailsList",data:function(){return{editStatus:!1,activeNames:["1","2"],formInline:{companyName:"",companyLeader:"",companyLeaderPhone:"",deptName:"",deptLeader:"",deptLeaderPhone:"",location:"",subDeptNumber:"",subPersonTotal:"",remark:""},crow:{},midInfoData:[],tabPosition:"",isShowTabs:!1}},computed:{tableData:function(){var e=this,t=this.tabPosition?this.midInfoData.filter((function(t){return t.deptType==e.tabPosition})):this.midInfoData;return t}},created:function(){},methods:{setFocus:function(e){for(var t=0;t<this.midInfoData.length;t++)this.midInfoData[t].orgId==e.orgId&&(this.midInfoData[t].location=e.location)},setUpData:function(){var e=this;this.editStatus=!1,this.$confirm("确定提交吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s["g"])(e.midInfoData).then((function(t){e.$modal.msgSuccess("成功"),e.editStatus=!1,e.getData()}))})).catch((function(){}))},renLX:function(e,t){var o="",a="";return e&&(o=e),t&&(a="(".concat(t,")")),o+a},renZH:function(e,t){var o="",a="";return e&&(o="k".concat(e)),t&&(a="+".concat(t)),o+a},initData:function(){var e=this;return Object(i["a"])(Object(l["a"])().mark((function t(){var o,a,n,r;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:r={101:{orgName:e.crow.deptName,childOrgName:"晋中高速公路分公司路网运行保障大队",midCnt:7},102:{orgName:e.crow.deptName,childOrgName:"太旧高速公路分公司路网运行保障大队",midCnt:7},203:{orgName:e.crow.deptName,childOrgName:"长治高速公路分公司路网运行保障大队",midCnt:5}},e.formInline.orgName=null===(o=r[e.crow.deptId])||void 0===o?void 0:o.orgName,e.formInline.childOrgName=null===(a=r[e.crow.deptId])||void 0===a?void 0:a.childOrgName,e.formInline.midCnt=null===(n=r[e.crow.deptId])||void 0===n?void 0:n.midCnt;case 4:case"end":return t.stop()}}),t)})))()},setEditFrom:function(){this.editStatus=!0},setSaveForm:function(){this.setUpData()},getData:function(){var e=this;return Object(i["a"])(Object(l["a"])().mark((function t(){var o,a,n,i,c,u,d;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["m"])({companyId:e.crow.deptId});case 2:if(o=t.sent,a={},a=o,n=[],a.data&&(a.data.map((function(e){e.roadList?e.roadList.map((function(t,o){var a=Object(r["a"])(Object(r["a"])({},t),{},{location:e.location,midId:e.midId,midMobile:e.midMobile,midName:e.midName,phone:e.phone,midUserName:e.midUserName,controlCaseDesc:e.startLocationDesc,deptPersonCount:e.deptPersonCount,deptVehicleCount:e.deptVehicleCount,deptType:e.deptType,flage:!1});0===o&&(a.flage=e.roadList.length),n.push(a)})):n.push(Object(r["a"])(Object(r["a"])({},e),{},{flage:1}))})),e.midInfoData=n,c=null===(i=e.midInfoData[0])||void 0===i?void 0:i.deptType,e.midInfoData.map((function(t){t.deptType==c||(e.isShowTabs=!0)}))),e.crow.deptId){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,Object(s["c"])(e.crow.deptId);case 11:u=t.sent,d=u.data,e.formInline=d;case 14:case"end":return t.stop()}}),t)})))()},objectSpanMethod:function(e){var t=e.row,o=e.columnIndex;if(o<=3)return t.flage?{rowspan:t.flage,colspan:1}:{rowspan:0,colspan:0}}}},u=c,d=(o("a52d"),o("2877")),m=Object(d["a"])(u,a,n,!1,null,"73d66b57",null);t["default"]=m.exports}}]);