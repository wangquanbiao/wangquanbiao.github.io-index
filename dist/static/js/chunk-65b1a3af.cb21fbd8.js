(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65b1a3af","chunk-2d208d6c","chunk-2d208d6c","chunk-2d208d6c","chunk-2d208d6c","chunk-2d208d6c","chunk-2d208d6c","chunk-2d208d6c","chunk-2d0a49c8"],{"06d0":function(e,t,r){"use strict";r.d(t,"k",(function(){return n})),r.d(t,"f",(function(){return a})),r.d(t,"a",(function(){return c})),r.d(t,"o",(function(){return l})),r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return i})),r.d(t,"d",(function(){return s})),r.d(t,"m",(function(){return d})),r.d(t,"l",(function(){return m})),r.d(t,"n",(function(){return f})),r.d(t,"e",(function(){return p})),r.d(t,"h",(function(){return h})),r.d(t,"g",(function(){return b})),r.d(t,"i",(function(){return g})),r.d(t,"j",(function(){return y}));var o=r("b775");function n(e){return Object(o["a"])({url:"/roadProducts/tReportAccidentInfo/list",method:"get",params:e})}function a(e){return Object(o["a"])({url:"/roadProducts/tReportAccidentInfo/"+e,method:"get"})}function c(e){return Object(o["a"])({url:"/roadProducts/tReportAccidentInfo",method:"post",data:e})}function l(e){return Object(o["a"])({url:"/roadProducts/tReportAccidentInfo",method:"put",data:e})}function u(e){return Object(o["a"])({url:"/roadProducts/tReportAccidentInfo/"+e,method:"delete"})}function i(e,t){return Object(o["a"])({url:"/roadProducts/tReportClaimInfo/"+t,method:"post",data:e})}function s(e){return Object(o["a"])({url:"/roadProducts/tReportClaimInfo/detail/"+e,method:"get"})}function d(e){return Object(o["a"])({url:"/roadProducts/tReportClaimInfo/docHandler",method:"post",data:e})}function m(e){return Object(o["a"])({url:"/roadProducts/tReportClaimInfo/claimHandleList",method:"post",data:e})}function f(e){return Object(o["a"])({url:"/roadProducts/tReportClaimInfo/updateStatus",method:"post",data:e})}function p(e){return Object(o["a"])({url:"/roadProducts/mainRoadInfo/list",method:"post",data:e})}function h(e){return Object(o["a"])({url:"/roadProducts/mainRoadInfo/listRoadInfoByType",method:"post",data:e})}function b(e){return Object(o["a"])({url:"/roadProducts/tReportClaimInfo/keywordItem?keyword=".concat(e||""),method:"get",data:e})}function g(e){return Object(o["a"])({url:"/roadProducts/attach/listTemplates?type=".concat(e),method:"get",data:e})}function y(e){return Object(o["a"])({url:"/onlyOffice/copy/".concat(e),method:"get"})}},"31ac":function(e,t,r){},"3ce9":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"social_assistance_edit"},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"content"},[r("el-form",{ref:"queryForm",attrs:{model:e.ruleForm,rules:e.rules,inline:!0,"label-width":"auto"}},[r("div",{staticClass:"content_card"},[r("div",{staticClass:"card_title"},[e._v(" 基础信息 ")]),r("el-row",{staticStyle:{padding:"0 15px"}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"签发人",prop:"singLssue"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择签发人"},model:{value:e.ruleForm.singLssue,callback:function(t){e.$set(e.ruleForm,"singLssue",t)},expression:"ruleForm.singLssue"}},e._l(e.qfrList,(function(e){return r("el-option",{key:e.userId,attrs:{label:e.nickName,value:e.nickName}})})),1)],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"信息来源",prop:"sourceId"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择信息来源"},model:{value:e.ruleForm.sourceId,callback:function(t){e.$set(e.ruleForm,"sourceId",t)},expression:"ruleForm.sourceId"}},e._l(e.dict.type.qzjy_xxly,(function(e){return r("el-option",{key:e.dictValue,attrs:{label:e.label,value:e.value}})})),1)],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"报警电话",prop:"policePhone"}},[r("el-input",{attrs:{maxlength:11,placeholder:"请输入报警电话",clearable:""},model:{value:e.ruleForm.policePhone,callback:function(t){e.$set(e.ruleForm,"policePhone",t)},expression:"ruleForm.policePhone"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"来电时间",prop:"incomingCallDate"}},[r("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期时间"},model:{value:e.ruleForm.incomingCallDate,callback:function(t){e.$set(e.ruleForm,"incomingCallDate",t)},expression:"ruleForm.incomingCallDate"}})],1)],1)],1),r("el-row",{staticStyle:{padding:"0 15px"}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"所属路段",prop:"sectionId"}},[r("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changesgld},model:{value:e.ruleForm.sectionId,callback:function(t){e.$set(e.ruleForm,"sectionId",t)},expression:"ruleForm.sectionId"}},e._l(e.lxList,(function(e,t){return r("el-option",{key:e.id+"-"+t,attrs:{label:e.roadDesc,value:e.id}})})),1)],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"位置类型",prop:"roadSectionType"}},[r("el-select",{staticClass:"w_w",attrs:{placeholder:"请选择"},on:{change:e.roadSectionTypeChange},model:{value:e.ruleForm.roadSectionType,callback:function(t){e.$set(e.ruleForm,"roadSectionType",t)},expression:"ruleForm.roadSectionType"}},e._l(e.dict.type.accident_location_type,(function(e,t){return r("el-option",{key:40*(t+4),attrs:{label:e.label,value:e.value}})})),1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"桩号",prop:"locationType"}},[r("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.locationType,callback:function(t){e.$set(e.ruleForm,"locationType",t)},expression:"ruleForm.locationType"}},[e._v("默认")]),r("el-radio",{attrs:{label:"2"},model:{value:e.ruleForm.locationType,callback:function(t){e.$set(e.ruleForm,"locationType",t)},expression:"ruleForm.locationType"}},[e._v("起止桩号")]),r("el-radio",{attrs:{label:"3"},model:{value:e.ruleForm.locationType,callback:function(t){e.$set(e.ruleForm,"locationType",t)},expression:"ruleForm.locationType"}},[e._v("无桩号")])],1)],1),1==e.ruleForm.locationType?r("el-col",{attrs:{span:6}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"",prop:"locationKm"}},[r("el-input",{staticClass:"x_w_l",attrs:{placeholder:"公里",oninput:"value=value.replace(/[^0-9]/g,'')"},model:{value:e.ruleForm.locationKm,callback:function(t){e.$set(e.ruleForm,"locationKm",t)},expression:"ruleForm.locationKm"}},[r("template",{slot:"prepend"},[e._v("k")])],2)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"",prop:"locationM"}},[r("el-input",{staticClass:"x_w_l",attrs:{placeholder:"米",oninput:"value=value.replace(/[^0-9\\.]/g,'')"},model:{value:e.ruleForm.locationM,callback:function(t){e.$set(e.ruleForm,"locationM",t)},expression:"ruleForm.locationM"}},[r("template",{slot:"prepend"},[e._v("+")])],2)],1)],1)],1)],1):e._e(),2==e.ruleForm.locationType?r("el-col",{attrs:{span:12}},[r("el-row",[r("el-col",{attrs:{span:10}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-input",{staticClass:"x_w_l",attrs:{placeholder:"公里",oninput:"value=value.replace(/[^0-9]/g,'')"},model:{value:e.ruleForm.startLocationKm,callback:function(t){e.$set(e.ruleForm,"startLocationKm",t)},expression:"ruleForm.startLocationKm"}},[r("template",{slot:"prepend"},[e._v("k")])],2)],1),r("el-col",{attrs:{span:12}},[r("el-input",{staticClass:"x_w_l",attrs:{placeholder:"米",oninput:"value=value.replace(/[^0-9\\.]/g,'')"},model:{value:e.ruleForm.startLocationM,callback:function(t){e.$set(e.ruleForm,"startLocationM",t)},expression:"ruleForm.startLocationM"}},[r("template",{slot:"prepend"},[e._v("+")])],2)],1)],1)],1),r("el-col",{attrs:{span:2}},[r("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center",height:"36px"}},[e._v(" - ")])]),r("el-col",{attrs:{span:10}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-input",{staticClass:"x_w_l",attrs:{placeholder:"公里",oninput:"value=value.replace(/[^0-9]/g,'')"},model:{value:e.ruleForm.endLocationKm,callback:function(t){e.$set(e.ruleForm,"endLocationKm",t)},expression:"ruleForm.endLocationKm"}},[r("template",{slot:"prepend"},[e._v("k")])],2)],1),r("el-col",{attrs:{span:12}},[r("el-input",{staticClass:"x_w_l",attrs:{placeholder:"米",oninput:"value=value.replace(/[^0-9\\.]/g,'')"},model:{value:e.ruleForm.endLocationM,callback:function(t){e.$set(e.ruleForm,"endLocationM",t)},expression:"ruleForm.endLocationM"}},[r("template",{slot:"prepend"},[e._v("+")])],2)],1)],1)],1)],1)],1):e._e()],1)],1)],1),r("el-row",{staticStyle:{padding:"0 15px"}},[1==e.ruleForm.roadSectionType?r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"路线方向",prop:"direction"}},[r("el-select",{attrs:{placeholder:"请选择"},on:{focus:e.directionFocus},model:{value:e.ruleForm.direction,callback:function(t){e.$set(e.ruleForm,"direction",t)},expression:"ruleForm.direction"}},e._l(e.ldfx,(function(e){return r("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1)],1):e._e(),2==e.ruleForm.roadSectionType?r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"所属互通",prop:"interflowDesc"}},[r("el-select",{staticClass:"w_w",attrs:{placeholder:"请选择"},on:{change:e.changessht},model:{value:e.ruleForm.interflowDesc,callback:function(t){e.$set(e.ruleForm,"interflowDesc",t)},expression:"ruleForm.interflowDesc"}},e._l(e.roadTypeList,(function(e,t){return r("el-option",{key:30*(t+3),attrs:{label:e.interflowDesc,value:e.interflowDesc}})})),1)],1)],1):e._e(),2==e.ruleForm.roadSectionType?r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"匝道名称(方向)",prop:"direction"}},[r("el-select",{staticClass:"w_w",attrs:{placeholder:"请选择"},model:{value:e.ruleForm.direction,callback:function(t){e.$set(e.ruleForm,"direction",t)},expression:"ruleForm.direction"}},e._l(e.rampList,(function(e,t){return r("el-option",{key:20*(t+2),attrs:{label:e.rampDesc,value:e.rampCode}})})),1)],1)],1):e._e(),3==e.ruleForm.roadSectionType?r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"所属连接线",prop:"linkDesc"}},[r("el-select",{staticClass:"w_w",attrs:{placeholder:"请选择"},model:{value:e.ruleForm.linkDesc,callback:function(t){e.$set(e.ruleForm,"linkDesc",t)},expression:"ruleForm.linkDesc"}},e._l(e.roadTypeList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.roadDesc,value:e.roadDesc}})})),1)],1)],1):e._e(),4==e.ruleForm.roadSectionType?r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"位置描述",prop:"direction"}},[r("el-input",{staticClass:"w_w",model:{value:e.ruleForm.direction,callback:function(t){e.$set(e.ruleForm,"direction",t)},expression:"ruleForm.direction"}})],1)],1):e._e()],1),r("el-row",{staticStyle:{padding:"0 15px"}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"清障人员",prop:"personnelList"}},[r("el-select",{ref:"selectLabel",attrs:{multiple:"",clearable:"",placeholder:"请选择清障人员"},on:{change:e.setItemPersonnel2},model:{value:e.ruleForm.personnelList,callback:function(t){e.$set(e.ruleForm,"personnelList",t)},expression:"ruleForm.personnelList"}},e._l(e.qzryList,(function(e){return r("el-option",{key:e.userId,attrs:{label:e.nickName,value:e.userId}})})),1)],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"清障机构",prop:"thirdPartyOrgName"}},[r("el-input",{attrs:{placeholder:"请输入清障机构"},model:{value:e.ruleForm.thirdPartyOrgName,callback:function(t){e.$set(e.ruleForm,"thirdPartyOrgName",t)},expression:"ruleForm.thirdPartyOrgName"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"联系方式",prop:"thirdPartyOrgPhone"}},[r("el-input",{attrs:{placeholder:"请输入联系方式"},model:{value:e.ruleForm.thirdPartyOrgPhone,callback:function(t){e.$set(e.ruleForm,"thirdPartyOrgPhone",t)},expression:"ruleForm.thirdPartyOrgPhone"}})],1)],1)],1)],1),r("div",{staticClass:"content_card"},[r("div",{staticClass:"card_title"},[e._v(" 被救援车辆信息 ")]),e._l(e.ruleForm.rescueVehicleList,(function(t,o){return r("el-row",{key:o,staticStyle:{padding:"0 15px"}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"车主姓名",prop:"rescuedName"}},[r("el-input",{attrs:{placeholder:"请输入车主姓名"},model:{value:t.rescuedName,callback:function(r){e.$set(t,"rescuedName",r)},expression:"item.rescuedName"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"车主电话",prop:"rescuedPhone"}},[r("el-input",{attrs:{placeholder:"请输入车主电话"},model:{value:t.rescuedPhone,callback:function(r){e.$set(t,"rescuedPhone",r)},expression:"item.rescuedPhone"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"车牌号码",prop:"rescuedWreckerNumber"}},[r("el-input",{attrs:{placeholder:"请输入车牌号码"},model:{value:t.rescuedWreckerNumber,callback:function(r){e.$set(t,"rescuedWreckerNumber",r)},expression:"item.rescuedWreckerNumber"}})],1)],1)],1)}))],2),r("div",{staticClass:"content_card"},[r("div",{staticClass:"card_title"},[e._v(" 社会救援信息 ")]),r("el-row",{staticStyle:{padding:"0 15px"}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"基价",prop:"basePrice"}},[r("el-input",{staticClass:"departure_mileage",attrs:{placeholder:"请输入内容"},model:{value:e.ruleForm.basePrice,callback:function(t){e.$set(e.ruleForm,"basePrice",t)},expression:"ruleForm.basePrice"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"超出价格",prop:"excessAmount"}},[r("el-input",{staticClass:"departure_mileage",attrs:{placeholder:"请输入内容"},model:{value:e.ruleForm.excessAmount,callback:function(t){e.$set(e.ruleForm,"excessAmount",t)},expression:"ruleForm.excessAmount"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"清障总金额",prop:"totalCost"}},[r("el-input",{staticClass:"departure_mileage",attrs:{placeholder:"请输入内容"},model:{value:e.ruleForm.totalCost,callback:function(t){e.$set(e.ruleForm,"totalCost",t)},expression:"ruleForm.totalCost"}})],1)],1)],1),r("el-row",{staticStyle:{padding:"0 15px"}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"出发时间",prop:"yksTime"}},[r("el-date-picker",{attrs:{clearable:"",type:"datetime","value-format":"yyyy-MM-dd HH:mm",placeholder:"选择日期时间"},model:{value:e.ruleForm.yksTime,callback:function(t){e.$set(e.ruleForm,"yksTime",t)},expression:"ruleForm.yksTime"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"到达时间",prop:"yddTime"}},[r("el-date-picker",{attrs:{clearable:"",type:"datetime","value-format":"yyyy-MM-dd HH:mm",placeholder:"选择日期时间"},model:{value:e.ruleForm.yddTime,callback:function(t){e.$set(e.ruleForm,"yddTime",t)},expression:"ruleForm.yddTime"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"收车时间",prop:"collectionDate"}},[r("el-date-picker",{attrs:{clearable:"",type:"datetime","value-format":"yyyy-MM-dd HH:mm",placeholder:"选择日期时间"},model:{value:e.ruleForm.collectionDate,callback:function(t){e.$set(e.ruleForm,"collectionDate",t)},expression:"ruleForm.collectionDate"}})],1)],1)],1),r("el-row",{staticStyle:{padding:"0 15px"}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"原因",prop:"socialRescueReason"}},[r("el-input",{staticStyle:{width:"32.5vw"},attrs:{type:"textarea",placeholder:"请输入原因"},model:{value:e.ruleForm.socialRescueReason,callback:function(t){e.$set(e.ruleForm,"socialRescueReason",t)},expression:"ruleForm.socialRescueReason"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"备注",prop:"remark"}},[r("el-input",{staticStyle:{width:"32.5vw"},attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1)],1)],1),r("el-row",{staticStyle:{padding:"0 15px"}},[e.beforeRid?r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"作业前照片",prop:"filesList"}},[r("uploadPhotoVIdeo",{attrs:{filesList:e.beforePhoto,objParams:{type:1,newStyle:!0,beforeContent:"上传照片",rId:e.beforeRid}},on:{returnRes:e._returnResBefore,returnResDel:e._returnResDelBefore}}),r("uploadPhotoVIdeo",{staticStyle:{"margin-left":"15px"},attrs:{filesList:e.beforeVideo,objParams:{type:2,atmLimit:1,newStyle:!0,beforeContent:"上传视频",rId:e.beforeRid}},on:{returnRes:e._returnResBefore,returnResDel:e._returnResDelBefore}})],1)],1):e._e(),e.afterRid?r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"作业后照片",prop:"filesList"}},[r("uploadPhotoVIdeo",{attrs:{filesList:e.afterPhoto,objParams:{type:1,newStyle:!0,beforeContent:"上传照片",rId:e.afterRid}},on:{returnRes:e._returnResBefore,returnResDel:e._returnResDelBefore2}}),r("uploadPhotoVIdeo",{staticStyle:{"margin-left":"15px"},attrs:{filesList:e.afterVideo,objParams:{type:2,atmLimit:1,newStyle:!0,beforeContent:"上传视频",rId:e.afterRid}},on:{returnRes:e._returnResBefore,returnResDel:e._returnResDelBefore2}})],1)],1):e._e()],1)],1),r("div",{staticClass:"content_card"},[r("el-row",{staticStyle:{padding:"15px",display:"flex","justify-content":"center","align-items":"center"}},[r("el-button",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("queryForm",5)}}},[e._v("提交审核")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("queryForm")}}},[e._v("暂存")])],1)],1)])],1)])},n=[],a=r("c7eb"),c=r("1da1"),l=(r("4de4"),r("7db0"),r("d81d"),r("14d9"),r("d3b7"),r("159b"),r("2934")),u=r("06d0"),i=r("e984"),s=r("c49c"),d={components:{uploadPhotoVIdeo:s["a"]},dicts:["qzjy_xxly","accident_location_type"],watch:{"ruleForm.locationType":{deep:!0,handler:function(e,t){this.isWatch&&(this.ruleForm.locationKm=void 0,this.ruleForm.locationM=void 0,this.ruleForm.startLocationKm=void 0,this.ruleForm.startLocationM=void 0,this.ruleForm.endLocationKm=void 0,this.ruleForm.endLocationM=void 0),this.ruleForm.id&&(this.isWatch=!0)}}},data:function(){return{isWatch:!1,loading:!1,qfrList:[],lxList:[],ldfx:[],roadTypeList:[],qzryList:[],rampList:[],ruleForm:{id:void 0,singLssue:void 0,sourceId:void 0,policePhone:void 0,incomingCallDate:void 0,sectionId:void 0,roadSectionType:void 0,locationType:"1",direction:void 0,interflowDesc:void 0,linkDesc:void 0,thirdPartyOrgName:void 0,thirdPartyOrgPhone:void 0,rescueVehicleList:[],yksTime:void 0,yddTime:void 0,collectionDate:void 0,socialRescueReason:void 0,remark:void 0,startLocationKm:void 0,startLocationM:void 0,endLocationKm:void 0,endLocationM:void 0},rules:{singLssue:[{required:!0,message:"请选择",trigger:"change"}],policePhone:[{required:!0,message:"请输入",trigger:"blur"}],thirdPartyOrgName:[{required:!0,message:"请输入",trigger:"blur"}],thirdPartyOrgPhone:[{required:!0,message:"请输入",trigger:"blur"}],socialRescueReason:[{required:!0,message:"请输入",trigger:"blur"}],remark:[{required:!0,message:"请输入",trigger:"blur"}],basePrice:[{required:!0,message:"请输入",trigger:"blur"}],excessAmount:[{required:!0,message:"请输入",trigger:"blur"}],totalCost:[{required:!0,message:"请输入",trigger:"blur"}],sourceId:[{required:!0,message:"请选择",trigger:"change"}],incomingCallDate:[{required:!0,message:"请选择",trigger:"change"}],sectionId:[{required:!0,message:"请选择",trigger:"change"}],roadSectionType:[{required:!0,message:"请选择",trigger:"change"}],direction:[{required:!0,message:"请选择",trigger:"change"}],interflowDesc:[{required:!0,message:"请选择",trigger:"change"}],personnelList:[{required:!0,message:"请选择",trigger:"change"}],yksTime:[{required:!0,message:"请选择",trigger:"change"}],yddTime:[{required:!0,message:"请选择",trigger:"change"}],collectionDate:[{required:!0,message:"请选择",trigger:"change"}],locationType:[{required:!0,message:"请选择",trigger:"change"}]},beforePhoto:[],afterPhoto:[],beforeVideo:[],afterVideo:[],imgUrl:"/prod-api",beforeRid:void 0,afterRid:void 0,beforeFileList:[],afterFileList:[]}},mounted:function(){this.getList(),this.getData()},methods:{_returnResBefore:function(e){this.beforeFileList.push(e)},_returnResDelBefore:function(e){this.beforeFileList=this.beforeFileList.filter((function(t){return e.id==t.id}))},_returnResBefore2:function(e){this.afterFileList.push(e)},_returnResDelBefore2:function(e){this.afterFileList=this.afterFileList.filter((function(t){return e.id==t.id}))},submit:function(e,t){var r=this;this.$refs[e].validate(function(){var e=Object(c["a"])(Object(a["a"])().mark((function e(o){var n;return Object(a["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:o&&(n=[],r.ruleForm.personnelList.map((function(e){var t=r.qzryList.find((function(t){return e==t.userId})),o=t.nickName,a=t.userId,c=t.phonenumber;n.push({name:o,phone:c,userId:a})})),r.ruleForm.clearanceVehicleList.map((function(e){e.clearancePersonList=n})),r.ruleForm.rescueCostList[0].basePrice=r.ruleForm.basePrice,r.ruleForm.rescueCostList[0].excessAmount=r.ruleForm.excessAmount,r.ruleForm.rescueCostList[0].totalCost=r.ruleForm.totalCost,t&&(r.ruleForm.status=5),delete r.ruleForm.basePrice,delete r.ruleForm.excessAmount,delete r.ruleForm.totalCost,delete r.ruleForm.personnelList,Object(i["g"])(r.ruleForm).then((function(e){200==e.code&&(r.$message.success("提交成功"),r.$router.go(-1))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},setItemPersonnel2:function(e){},directionFocus:function(){this.ruleForm.sectionId||this.$message({message:"请先选择所属路段",type:"warning"})},roadSectionTypeChange:function(e){this.rampList=[],this.ruleForm.interflowDesc="",this.ruleForm.direction="",this.getlistRoadInfoByTypeData(e)},getlistRoadInfoByTypeData:function(e,t){var r=this;return Object(c["a"])(Object(a["a"])().mark((function o(){var n;return Object(a["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,Object(u["h"])({lineType:e,id:r.ruleForm.sectionId});case 2:n=o.sent,r.roadTypeList=n.rows,r.ruleForm.interflowDesc&&r.changessht(t);case 5:case"end":return o.stop()}}),o)})))()},changessht:function(e){var t=this;e||(this.ruleForm.direction=""),this.roadTypeList.map((function(e){e.interflowDesc!=t.ruleForm.interflowDesc||(t.rampList=e.rampList)}))},changesgld:function(e){var t;this.ldfx=null===(t=this.lxList.filter((function(t){return t.id==e}))[0])||void 0===t?void 0:t.ldfxList,this.ruleForm.roadSectionType=""},getData:function(){var e=this;return Object(c["a"])(Object(a["a"])().mark((function t(){var r,o,n,c,u;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,Object(i["v"])(e.$route.query.id);case 3:return o=t.sent,o.data.sourceId=o.data.sourceId?String(o.data.sourceId):"",o.data.roadSectionType=o.data.roadSectionType?String(o.data.roadSectionType):"",o.data.personnelList=o.data.clearanceVehicleList[0].clearancePersonList.map((function(e){return e.userId})),o.data.rescueCostList[0]&&(o.data.basePrice=o.data.rescueCostList[0].basePrice,o.data.excessAmount=o.data.rescueCostList[0].excessAmount,o.data.totalCost=o.data.rescueCostList[0].totalCost),o.data.nodeList&&(n=o.data.nodeList.find((function(e){return 0==e.rStatus})),c=o.data.nodeList.find((function(e){return 1==e.rStatus})),e.beforeRid=n.id,e.afterRid=c.id,n.fileList&&n.fileList.length>0&&(e.beforePhoto=n.fileList.filter((function(t){return t.url=e.imgUrl+t.fileUrl,1==t.type})),e.beforeVideo=n.fileList.filter((function(t){return t.url=e.imgUrl+t.fileUrl,2==t.type}))),c.fileList&&c.fileList.length>0&&(e.afterPhoto=c.fileList.filter((function(t){return t.url=e.imgUrl+t.fileUrl,1==t.type})),e.afterVideo=c.fileList.filter((function(t){return t.url=e.imgUrl+t.fileUrl,2==t.type})))),e.ruleForm=o.data,t.next=12,Object(l["v"])(null===(r=o.data)||void 0===r?void 0:r.orgId);case 12:u=t.sent,e.qzryList=null===u||void 0===u?void 0:u.data.users,e.loading=!1;case 15:case"end":return t.stop()}}),t)})))()},getList:function(){var e=this;return Object(c["a"])(Object(a["a"])().mark((function t(){var r,o,n,c,u;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$store.getters.userInfo,t.next=3,Object(l["q"])({pageNum:1,pageSize:100,secondDeptId:r.dept.deptId,isFilter:!1});case 3:return o=t.sent,n=o.rows,e.qfrList=n,t.next=8,Object(l["l"])({orgId:"",pageNum:1,pageSize:1e3});case 8:c=t.sent,c.rows.forEach((function(e){e.ldfxList=[{key:e.startDirection,value:e.startDirection},{key:e.endDirection,value:e.endDirection}]})),e.lxList=c.rows,e.ruleForm.sectionId&&(e.ldfx=null===(u=e.lxList.filter((function(t){return t.id==e.ruleForm.sectionId}))[0])||void 0===u?void 0:u.ldfxList);case 12:case"end":return t.stop()}}),t)})))()}}},m=d,f=(r("efca"),r("2877")),p=Object(f["a"])(m,o,n,!1,null,"4d234e58",null);t["default"]=p.exports},a700:function(e,t,r){"use strict";r.d(t,"O",(function(){return n})),r.d(t,"d",(function(){return a})),r.d(t,"a",(function(){return c})),r.d(t,"T",(function(){return l})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return i})),r.d(t,"K",(function(){return s})),r.d(t,"M",(function(){return d})),r.d(t,"L",(function(){return m})),r.d(t,"N",(function(){return f})),r.d(t,"J",(function(){return p})),r.d(t,"g",(function(){return h})),r.d(t,"i",(function(){return b})),r.d(t,"h",(function(){return g})),r.d(t,"R",(function(){return y})),r.d(t,"P",(function(){return v})),r.d(t,"Q",(function(){return F})),r.d(t,"S",(function(){return P})),r.d(t,"I",(function(){return O})),r.d(t,"F",(function(){return L})),r.d(t,"f",(function(){return j})),r.d(t,"H",(function(){return k})),r.d(t,"G",(function(){return R})),r.d(t,"v",(function(){return x})),r.d(t,"t",(function(){return I})),r.d(t,"s",(function(){return _})),r.d(t,"u",(function(){return w})),r.d(t,"e",(function(){return T})),r.d(t,"z",(function(){return C})),r.d(t,"x",(function(){return D})),r.d(t,"w",(function(){return S})),r.d(t,"y",(function(){return q})),r.d(t,"D",(function(){return $})),r.d(t,"B",(function(){return E})),r.d(t,"A",(function(){return M})),r.d(t,"C",(function(){return A})),r.d(t,"m",(function(){return B})),r.d(t,"k",(function(){return N})),r.d(t,"l",(function(){return z})),r.d(t,"j",(function(){return K})),r.d(t,"E",(function(){return V})),r.d(t,"q",(function(){return H})),r.d(t,"o",(function(){return U})),r.d(t,"n",(function(){return W})),r.d(t,"p",(function(){return J})),r.d(t,"r",(function(){return G}));var o=r("b775");function n(e){return Object(o["a"])({url:"/roadProducts/roadType/roadTypeTree",method:"post",data:e})}function a(e){return Object(o["a"])({url:"/roadProducts/mainRoadInfo/query",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/roadProducts/dept/getDeptRoadInfoByDeptId/".concat(e),method:"get"})}function l(e){return Object(o["a"])({url:"/roadProducts/dept/saveDeptRoadInfo",method:"post",data:e})}function u(e){return Object(o["a"])({url:"/roadProducts/mainRoadInfo/list",method:"post",data:e})}function i(e){return Object(o["a"])({url:"/roadProducts/unMainLinkInfo/list",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/roadProducts/roadType/add",method:"post",data:e})}function d(e){return Object(o["a"])({url:"/roadProducts/roadType/edit",method:"post",data:e})}function m(e){return Object(o["a"])({url:"/roadProducts/roadType/remove/"+e,method:"delete"})}function f(e){return Object(o["a"])({url:"/roadProducts/roadType/info/"+e,method:"get"})}function p(e){return Object(o["a"])({url:"/roadProducts/mainRoadInfo/list",method:"post",data:e})}function h(e,t,r){return Object(o["a"])({url:"/roadProducts/mainRoadInfo/"+t,method:r,data:e})}function b(e){return Object(o["a"])({url:"/roadProducts/mainRoadInfo/info/"+e,method:"get"})}function g(e){return Object(o["a"])({url:"/roadProducts/mainRoadInfo/remove/"+e,method:"DELETE"})}function y(e){return Object(o["a"])({url:"/roadProducts/mainRoadInfo/list",method:"post",data:e})}function v(e,t,r){return Object(o["a"])({url:"/roadProducts/unMainLinkInfo/"+t,method:r,data:e})}function F(e){return Object(o["a"])({url:"/roadProducts/unMainLinkInfo/info/"+e,method:"get"})}function P(e){return Object(o["a"])({url:"/roadProducts/unMainLinkInfo/remove/"+e,method:"DELETE"})}function O(e){return Object(o["a"])({url:"/roadProducts/roadTunnel/list",method:"post",data:e})}function L(e,t,r){return Object(o["a"])({url:"/roadProducts/roadTunnel/"+t,method:r,data:e})}function j(e){return Object(o["a"])({url:"/roadProducts/mainLineRamp/rampDirList",method:"post",data:e})}function k(e){return Object(o["a"])({url:"/roadProducts/roadTunnel/info/"+e,method:"get"})}function R(e){return Object(o["a"])({url:"/roadProducts/roadTunnel/remove/"+e,method:"DELETE"})}function x(e){return Object(o["a"])({url:"/roadProducts/roadBridgeInfo/list",method:"post",data:e})}function I(e){return Object(o["a"])({url:"/roadProducts/roadBridgeInfo/remove/"+e,method:"DELETE"})}function _(e,t,r){return Object(o["a"])({url:"/roadProducts/roadBridgeInfo/"+t,method:r,data:e})}function w(e){return Object(o["a"])({url:"/roadProducts/roadBridgeInfo/info/"+e,method:"get"})}function T(e){return Object(o["a"])({url:"/roadProducts/mainLineRamp/downList",method:"post",data:e})}function C(e){return Object(o["a"])({url:"/roadProducts/RoadCulvertInfo/list",method:"post",data:e})}function D(e){return Object(o["a"])({url:"/roadProducts/RoadCulvertInfo/remove/"+e,method:"DELETE"})}function S(e,t,r){return Object(o["a"])({url:"/roadProducts/RoadCulvertInfo/"+t,method:r,data:e})}function q(e){return Object(o["a"])({url:"/roadProducts/RoadCulvertInfo/info/"+e,method:"get"})}function $(e){return Object(o["a"])({url:"/roadProducts/roadOtherInfo/list",method:"post",data:e})}function E(e){return Object(o["a"])({url:"/roadProducts/roadOtherInfo/remove/"+e,method:"DELETE"})}function M(e,t,r){return Object(o["a"])({url:"/roadProducts/roadOtherInfo/"+t,method:r,data:e})}function A(e){return Object(o["a"])({url:"/roadProducts/roadOtherInfo/info/"+e,method:"get"})}function B(e){return Object(o["a"])({url:"/roadProducts/roadAccessoryInfo/list",method:"post",data:e})}function N(e){return Object(o["a"])({url:"/roadProducts/roadAccessoryInfo/remove/"+e,method:"DELETE"})}function z(e){return Object(o["a"])({url:"/roadProducts/roadAccessoryInfo/info/"+e,method:"get"})}function K(e,t,r){return Object(o["a"])({url:"/roadProducts/roadAccessoryInfo/"+t,method:r,data:e})}function V(e){return Object(o["a"])({url:"/roadProducts/roadProductsOperLog/list",method:"post",data:e})}function H(e){return Object(o["a"])({url:"/roadProducts/roadAreaFacilities/list",method:"post",data:e})}function U(e){return Object(o["a"])({url:"/roadProducts/roadAreaFacilities/remove/"+e,method:"DELETE"})}function W(e,t,r){return Object(o["a"])({url:"/roadProducts/roadAreaFacilities/"+t,method:r,data:e})}function J(e){return Object(o["a"])({url:"/roadProducts/roadAreaFacilities/info/"+e,method:"get"})}function G(e){return Object(o["a"])({url:"/roadProducts/standardization/remove/"+e,method:"DELETE"})}},e984:function(e,t,r){"use strict";r.d(t,"s",(function(){return n})),r.d(t,"D",(function(){return a})),r.d(t,"n",(function(){return c})),r.d(t,"t",(function(){return l})),r.d(t,"g",(function(){return u})),r.d(t,"j",(function(){return i})),r.d(t,"c",(function(){return s})),r.d(t,"h",(function(){return d})),r.d(t,"i",(function(){return m})),r.d(t,"p",(function(){return f})),r.d(t,"q",(function(){return p})),r.d(t,"r",(function(){return h})),r.d(t,"u",(function(){return b})),r.d(t,"v",(function(){return g})),r.d(t,"e",(function(){return y})),r.d(t,"a",(function(){return v})),r.d(t,"A",(function(){return F})),r.d(t,"w",(function(){return P})),r.d(t,"E",(function(){return O})),r.d(t,"d",(function(){return L})),r.d(t,"b",(function(){return j})),r.d(t,"z",(function(){return k})),r.d(t,"l",(function(){return R})),r.d(t,"y",(function(){return x})),r.d(t,"k",(function(){return I})),r.d(t,"m",(function(){return _})),r.d(t,"B",(function(){return w})),r.d(t,"f",(function(){return T})),r.d(t,"o",(function(){return C})),r.d(t,"x",(function(){return D})),r.d(t,"C",(function(){return S}));var o=r("b775");function n(){return Object(o["a"])({url:"/system/dept/list?type=1&isFilter=false",method:"get"})}function a(e){return Object(o["a"])({url:"/roadProducts/clearanceRescue/updateData",method:"PUT",data:e})}function c(e){return Object(o["a"])({url:"/roadProducts/clearanceRescue/generateClearanceRecord/".concat(e),method:"get"})}function l(e){return Object(o["a"])({url:"/roadProducts/clearanceRescueCost/getCostCount",method:"POST",data:e})}function u(e){return Object(o["a"])({url:"/roadProducts/clearanceRescue_v1/edit",method:"POST",data:e})}function i(e){return Object(o["a"])({url:"/roadProducts/standardization/edit",method:"PUT",data:e})}function s(e){return Object(o["a"])({url:"/roadProducts/clearanceRescue/cancel/".concat(e.id),method:"patch",data:{cancelReason:e.cancelReason}})}function d(e){return Object(o["a"])({url:"/roadProducts/clearanceRescue/remove?ids="+e,method:"DELETE"})}function m(e){return Object(o["a"])({url:"/roadProducts/clearanceRescue/remove",method:"DELETE",data:e})}function f(e){return Object(o["a"])({url:"/roadProducts/clearanceRescue/list",method:"post",data:e})}function p(e){return Object(o["a"])({url:"/roadProducts/clearanceRescue/query",method:"post",data:e})}function h(e){return Object(o["a"])({url:"/roadProducts/clearanceRescue/shList ",method:"post",data:e})}function b(e){return Object(o["a"])({url:"/roadProducts/clearanceRescue/infoByParentId/".concat(e),method:"get"})}function g(e){return Object(o["a"])({url:"/roadProducts/clearanceRescue/info/".concat(e),method:"get"})}function y(e){return Object(o["a"])({url:"/roadProducts/clearanceRescue/saveClearanceRecord",data:e,method:"post"})}function v(e,t){return Object(o["a"])({url:"/roadProducts/clearanceRescue/".concat(t),method:"post",data:e})}function F(e){return Object(o["a"])({url:"/clearanceRescue/count/getCount",method:"post",data:e})}function P(e){return Object(o["a"])({url:"/roadProducts/invoice/list",method:"post",data:e})}function O(e){return Object(o["a"])({url:"roadProducts/clearanceRescue/updateStatus",method:"post",data:e})}function L(e,t){return Object(o["a"])({url:"/roadProducts/invoice/".concat(t),method:"post",data:e})}function j(e){return Object(o["a"])({url:"/roadProducts/invoice/add",method:"post",data:e})}function k(e){return Object(o["a"])({url:"/roadProducts/invoice/info/".concat(e),method:"get"})}function R(e){return Object(o["a"])({url:"/roadProducts/invoice/edit",method:"post",data:e})}function x(e){return Object(o["a"])({url:"/roadProducts/clearanceRescue/gdList",method:"post",data:e})}function I(e){return Object(o["a"])({url:"/roadProducts/clearanceRescue/edit",method:"post",data:e})}function _(e){return Object(o["a"])({url:"/roadProducts/workOrderReturn/list",method:"post",data:e})}function w(e){return Object(o["a"])({url:"/roadProducts/clearanceRescue/statAnalysis",method:"post",data:e})}function T(e){return Object(o["a"])({url:"/statistics/qz/statTotalList",method:"post",data:e})}function C(e){return Object(o["a"])({url:"/statistics/qz/statRateList",method:"post",data:e})}function D(e){return Object(o["a"])({url:"/statistics/qz/companyStat",method:"post",data:e})}function S(e){return Object(o["a"])({url:"/statistics/qz/trendAnalysis",method:"post",data:e})}},efca:function(e,t,r){"use strict";r("31ac")}}]);