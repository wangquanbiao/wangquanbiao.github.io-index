(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-704fa13c"],{2209:function(e,t,n){},"3d19":function(e,t,n){"use strict";n("48db")},"48db":function(e,t,n){},"67db":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"group-affiliation"},[n("div",{staticClass:"content"},[n("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"路产里程情况统计",name:"路产里程情况统计"}}),n("el-tab-pane",{attrs:{label:"路产数量情况统计",name:"路产数量情况统计"}}),n("el-tab-pane",{attrs:{label:"附属设施情况统计",name:"附属设施情况统计"}})],1),"路产里程情况统计"==e.activeName?n("mileage"):e._e(),"路产数量情况统计"==e.activeName?n("numComp"):e._e(),"附属设施情况统计"==e.activeName?n("deviceReport"):e._e()],1)])},a=[],l=(n("b0c0"),n("9dcf")),r=n("fa79"),o=n("ac88"),c={components:{mileage:l["default"],numComp:r["default"],deviceReport:o["default"]},data:function(){return{activeName:"路产里程情况统计"}},mounted:function(){},methods:{handleClick:function(e,t){this.activeName=e.name}}},s=c,d=(n("ded2"),n("2877")),u=Object(d["a"])(s,i,a,!1,null,"b0dc6b96",null);t["default"]=u.exports},"9dcf":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"app-container"},[n("div",{staticClass:"params"},[n("el-form",{ref:"ruleForm",attrs:{inline:!0,model:e.formInline}},[n("el-form-item",{attrs:{label:"公司名称",prop:"companyId"}},[n("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.formInline.companyId,callback:function(t){e.$set(e.formInline,"companyId",t)},expression:"formInline.companyId"}},e._l(e.depList,(function(e){return n("el-option",{key:e.deptId,attrs:{label:e.deptName,value:e.deptId}})})),1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.getData}},[e._v("查询")])],1),n("el-form-item",[n("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1),n("el-row",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.exportReport()}}},[e._v("导出报表"),n("i",{staticClass:"el-icon-arrow-right"})])],1)],1),n("div",[n("vxe-grid",{staticClass:"mytable-scrollbar",attrs:{border:"","span-method":e.colspanMethod,resizable:"","auto-resize":"","max-height":"730",loading:e.table.loading,columns:e.columns,data:e.table.datas},on:{"page-change":e.handlePageChange},scopedSlots:e._u([{key:"operation",fn:function(t){var i=t.row;return["总计"!=i.companyDesc?n("span",{staticStyle:{color:"#3378ee",cursor:"pointer"},on:{click:function(t){return e.toDetails(i)}}},[e._v("详情")]):e._e()]}}])})],1)])},a=[],l=n("c7eb"),r=n("1da1"),o=n("5530"),c=(n("caad"),n("14d9"),n("c1df"),n("7dec")),s=n("2934"),d={data:function(){return{isDept:!1,formInline:{companyId:null},depList:[],table:{loading:!1,page:{total:0,currentPage:1,pageSize:10,align:"left",pageSizes:[10,20,50],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0},datas:[]},columns:[{type:"seq",width:50,title:"序号",align:"center"},{field:"companyDesc",title:"所属公司",align:"center"},{field:"total",title:"路段总长(km)",align:"center"},{field:"zxMileage",title:"主线路段里程(km)",align:"center"},{field:"fzxMileage",title:"匝道、连接线里程(km)",align:"center"},{field:"qlMileage",title:"桥梁里程(km)",align:"center"},{field:"sdMileage",title:"隧道里程(km)",align:"center"},{field:"qsRatio",title:"桥隧占比",align:"center"},{title:"操作",align:"center",slots:{default:"operation"},width:100}]}},watch:{"formInline.resource":{handler:function(e){3!=e&&(this.formInline.date=[])}}},mounted:function(){this.getDptData(),this.getData()},methods:{toDetails:function(e){this.$router.push({path:"/propertyInfo/list",query:{companyId:e.companyId,orgId:e.deptId}})},colspanMethod:function(e){var t=e.row,n=e.$rowIndex,i=e.column,a=e.data,l=["companyDesc","orgDesc"],r=t[i.property];if(r&&l.includes(i.property)){var o=a[n-1],c=a[n+1];if(o&&o[i.property]==r)return{rowspan:0,colspan:0};var s=1;while(c&&c[i.property]==r)c=a[++s+n];if(s>1)return{rowspan:s,colspan:1}}},exportReport:function(){this.table.loading=!0;var e=Object(o["a"])(Object(o["a"])({},this.formInline),{},{pageNum:this.table.page.currentPage,pageSize:this.table.page.pageSize});this.download("/roadProducts/businessReport/exportStatRoadMileage",Object(o["a"])({},e),"路产里程报表_".concat((new Date).getTime(),".xlsx")),this.table.loading=!1},changeTJSJ:function(e){3!=e&&(this.formInline.date=[])},getDptData:function(){var e=this;return Object(r["a"])(Object(l["a"])().mark((function t(){var n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["h"])({type:1,status:0});case 2:n=t.sent,e.depList=n.data;case 4:case"end":return t.stop()}}),t)})))()},resetForm:function(e){this.formInline.companyId&&(this.columns=[{type:"seq",width:50,title:"序号",align:"center"},{field:"companyDesc",title:"所属公司",align:"center"},{field:"total",title:"路段总长(km)",align:"center"},{field:"zxMileage",title:"主线路段里程(km)",align:"center"},{field:"fzxMileage",title:"匝道、连接线里程(km)",align:"center"},{field:"qlMileage",title:"桥梁里程(km)",align:"center"},{field:"sdMileage",title:"隧道里程(km)",align:"center"},{field:"qsRatio",title:"桥隧占比",align:"center"},{title:"操作",align:"center",slots:{default:"operation"},width:100}]),this.formInline.companyId=null,this.getData()},handlePageChange:function(e){var t=e.currentPage,n=e.pageSize;this.table.page.currentPage=t,this.table.page.pageSize=n,this.getData()},getData:function(){var e=this;return Object(r["a"])(Object(l["a"])().mark((function t(){var n,i;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.formInline.companyId&&!e.isDept&&(e.columns=[{field:"companyDesc",title:"所属公司",align:"center"},{title:"单位名称",field:"deptDesc",align:"center"},{field:"total",title:"路段总长(km)",align:"center"},{field:"zxMileage",title:"主线路段里程(km)",align:"center"},{field:"fzxMileage",title:"匝道、连接线里程(km)",align:"center"},{field:"qlMileage",title:"桥梁里程(km)",align:"center"},{field:"sdMileage",title:"隧道里程(km)",align:"center"},{field:"qsRatio",title:"桥隧占比",align:"center"},{title:"操作",align:"center",slots:{default:"operation"},width:100}],e.isDept=!0),e.formInline.companyId||(e.isDept=!1),e.table.loading=!0,n=Object(o["a"])(Object(o["a"])({},e.formInline),{},{pageNum:e.table.page.currentPage,pageSize:e.table.page.pageSize}),t.next=6,Object(c["g"])(n);case 6:i=t.sent,e.table.datas=i.data,e.table.page.total=i.data.length,e.table.loading=!1;case 10:case"end":return t.stop()}}),t)})))()}}},u=d,g=(n("3d19"),n("2877")),p=Object(g["a"])(u,i,a,!1,null,"6dee6dde",null);t["default"]=p.exports},c9b0:function(e,t,n){},ded2:function(e,t,n){"use strict";n("2209")},ebe2:function(e,t,n){"use strict";n("c9b0")},fa79:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"app-container"},[n("div",{staticClass:"params"},[n("el-form",{ref:"ruleForm",attrs:{inline:!0,model:e.formInline}},[n("el-form-item",{attrs:{label:"公司名称",prop:"companyId"}},[n("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.formInline.companyId,callback:function(t){e.$set(e.formInline,"companyId",t)},expression:"formInline.companyId"}},e._l(e.depList,(function(e){return n("el-option",{key:e.deptId,attrs:{label:e.deptName,value:e.deptId}})})),1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.getData}},[e._v("查询")])],1),n("el-form-item",[n("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1),n("el-row",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.exportReport()}}},[e._v("导出报表"),n("i",{staticClass:"el-icon-arrow-right"})])],1)],1),n("div",[n("vxe-grid",{staticClass:"mytable-scrollbar",attrs:{border:"","span-method":e.colspanMethod,resizable:"","auto-resize":"","max-height":"730",loading:e.table.loading,columns:e.columns,data:e.table.datas},on:{"page-change":e.handlePageChange},scopedSlots:e._u([{key:"operation",fn:function(t){var i=t.row;return["总计"!=i.companyDesc?n("span",{staticStyle:{color:"#3378ee",cursor:"pointer"},on:{click:function(t){return e.toDetails(i)}}},[e._v("详情")]):e._e()]}}])})],1)])},a=[],l=n("c7eb"),r=n("1da1"),o=n("5530"),c=(n("caad"),n("14d9"),n("c1df")),s=n.n(c),d=n("7dec"),u=n("2934"),g={data:function(){return{isDept:!1,formInline:{companyId:null},depList:[],table:{loading:!1,page:{total:0,currentPage:1,pageSize:10,align:"left",pageSizes:[10,20,50],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0},datas:[]},columns:[{type:"seq",width:50,title:"序号",align:"center"},{field:"companyDesc",title:"所属公司",align:"center"},{title:"路段情况",align:"center",children:[{field:"zxCount",title:"主线路段(个)",align:"center"},{field:"zdCount",title:"匝道(个)",align:"center"},{field:"ljxCount",title:"连接线(个)",align:"center"},{field:"htCount",title:"互通数(个)",align:"center"}]},{title:"桥梁情况",align:"center",children:[{field:"mainBridgeCount",title:"主线桥(座)",align:"center"},{field:"rampBridgeCount",title:"匝道桥(座)",align:"center"},{field:"transferBridgeCount",title:"渡桥(座)",align:"center"},{field:"connectingBridgeCount",title:"连接线桥(座)",align:"center"},{field:"ovuPassCount",title:"跨线天桥(座)",align:"center"},{field:"bridgeTotalCount",title:"桥梁合计(座)",align:"center"}]},{title:"涵洞情况",align:"center",children:[{field:"mainLineCulvertCount",title:"主线涵洞(座)",align:"center"},{field:"rampCulvertCount",title:"匝道涵洞(座)",align:"center"},{field:"connectingLineCulvertCount",title:"连接线涵洞(座)",align:"center"},{field:"offLineCulvertCount",title:"线外涵洞(座)",align:"center"},{field:"culvertTotalCount",title:"涵洞合计(座)",align:"center"}]},{title:"隧道情况",align:"center",children:[{field:"tunnelCount",title:"隧道(座)",align:"center"}]},{title:"操作",align:"center",slots:{default:"operation"},width:100}]}},watch:{"formInline.resource":{handler:function(e){3!=e&&(this.formInline.date=[])}}},mounted:function(){this.getDptData(),this.getData()},methods:{toDetails:function(e){this.$router.push({path:"/propertyInfo/list",query:{companyId:e.companyId,orgId:e.deptId}})},colspanMethod:function(e){var t=e.row,n=e.$rowIndex,i=e.column,a=e.data,l=["companyDesc","orgDesc"],r=t[i.property];if(r&&l.includes(i.property)){var o=a[n-1],c=a[n+1];if(o&&o[i.property]==r)return{rowspan:0,colspan:0};var s=1;while(c&&c[i.property]==r)c=a[++s+n];if(s>1)return{rowspan:s,colspan:1}}},exportReport:function(){switch(this.table.loading=!0,this.formInline.resource){case 1:this.formInline.timeType="MONTH";break;case 2:this.formInline.timeType="YEAR";break;case 3:this.formInline.timeType="CUSTOM",this.formInline.startTime=this.formInline.date[0]?s()(this.formInline.date[0]).format("YYYY-MM-DD")+" 00:00:00":"",this.formInline.endTime=this.formInline.date[1]?s()(this.formInline.date[1]).format("YYYY-MM-DD")+" 00:00:00":"";break}var e=Object(o["a"])(Object(o["a"])({},this.formInline),{},{pageNum:this.table.page.currentPage,pageSize:this.table.page.pageSize});this.download("/roadProducts/businessReport/exportStatRoadAssetCount",Object(o["a"])({},e),"路产数量报表_".concat((new Date).getTime(),".xlsx")),this.table.loading=!1},changeTJSJ:function(e){3!=e&&(this.formInline.date=[])},getDptData:function(){var e=this;return Object(r["a"])(Object(l["a"])().mark((function t(){var n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["h"])({type:1,status:0});case 2:n=t.sent,e.depList=n.data;case 4:case"end":return t.stop()}}),t)})))()},resetForm:function(e){this.formInline.companyId&&(this.columns=[{type:"seq",width:50,title:"序号",align:"center"},{field:"companyDesc",title:"所属公司",align:"center"},{title:"路段情况",align:"center",children:[{field:"zxCount",title:"主线路段(个)",align:"center"},{field:"zdCount",title:"匝道(个)",align:"center"},{field:"ljxCount",title:"连接线(个)",align:"center"},{field:"htCount",title:"互通数(个)",align:"center"}]},{title:"桥梁情况",align:"center",children:[{field:"mainBridgeCount",title:"主线桥(座)",align:"center"},{field:"rampBridgeCount",title:"匝道桥(座)",align:"center"},{field:"transferBridgeCount",title:"渡桥(座)",align:"center"},{field:"connectingBridgeCount",title:"连接线桥(座)",align:"center"},{field:"ovuPassCount",title:"跨线天桥(座)",align:"center"},{field:"bridgeTotalCount",title:"桥梁合计(座)",align:"center"}]},{title:"涵洞情况",align:"center",children:[{field:"mainLineCulvertCount",title:"主线涵洞(座)",align:"center"},{field:"rampCulvertCount",title:"匝道涵洞(座)",align:"center"},{field:"connectingLineCulvertCount",title:"连接线涵洞(座)",align:"center"},{field:"offLineCulvertCount",title:"线外涵洞(座)",align:"center"},{field:"culvertTotalCount",title:"涵洞合计(座)",align:"center"}]},{title:"隧道情况",align:"center",children:[{field:"tunnelCount",title:"隧道(座)",align:"center"}]},{title:"操作",align:"center",slots:{default:"operation"},width:100}]),this.formInline.companyId=null,this.getData()},handlePageChange:function(e){var t=e.currentPage,n=e.pageSize;this.table.page.currentPage=t,this.table.page.pageSize=n,this.getData()},handlePageChange1:function(){this.getData()},getData:function(){var e=this;return Object(r["a"])(Object(l["a"])().mark((function t(){var n,i;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.formInline.companyId&&!e.isDept&&(e.columns=[{field:"companyDesc",title:"所属公司",align:"center"},{title:"单位名称",field:"deptDesc",align:"center"},{title:"路段情况",align:"center",children:[{field:"zxCount",title:"主线路段(个)",align:"center"},{field:"zdCount",title:"匝道(个)",align:"center"},{field:"ljxCount",title:"连接线(个)",align:"center"},{field:"htCount",title:"互通数(个)",align:"center"}]},{title:"桥梁情况",align:"center",children:[{field:"mainBridgeCount",title:"主线桥(座)",align:"center"},{field:"rampBridgeCount",title:"匝道桥(座)",align:"center"},{field:"transferBridgeCount",title:"渡桥(座)",align:"center"},{field:"connectingBridgeCount",title:"连接线桥(座)",align:"center"},{field:"ovuPassCount",title:"跨线天桥(座)",align:"center"},{field:"bridgeTotalCount",title:"桥梁合计(座)",align:"center"}]},{title:"涵洞情况",align:"center",children:[{field:"mainLineCulvertCount",title:"主线涵洞(座)",align:"center"},{field:"rampCulvertCount",title:"匝道涵洞(座)",align:"center"},{field:"connectingLineCulvertCount",title:"连接线涵洞(座)",align:"center"},{field:"offLineCulvertCount",title:"线外涵洞(座)",align:"center"},{field:"culvertTotalCount",title:"涵洞合计(座)",align:"center"}]},{title:"隧道情况",align:"center",children:[{field:"tunnelCount",title:"隧道(座)",align:"center"}]},{title:"操作",align:"center",slots:{default:"operation"},width:100}],e.isDept=!0),e.formInline.companyId||(e.isDept=!1),e.table.loading=!0,n=Object(o["a"])(Object(o["a"])({},e.formInline),{},{pageNum:e.table.page.currentPage,pageSize:e.table.page.pageSize}),t.next=6,Object(d["h"])(n);case 6:i=t.sent,e.table.datas=i.data,e.table.page.total=i.data.length,e.table.loading=!1;case 10:case"end":return t.stop()}}),t)})))()}}},p=g,f=(n("ebe2"),n("2877")),m=Object(f["a"])(p,i,a,!1,null,"178c20f2",null);t["default"]=m.exports}}]);